{"remainingRequest":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\views\\vab\\permissions\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\views\\vab\\permissions\\index.vue","mtime":1638330357778},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZmlsZS90ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovc29mdHdhcmUvZmlsZS90ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB0b2tlblRhYmxlTmFtZSB9IGZyb20gJ0AvY29uZmlnJzsKaW1wb3J0IHsgZ2V0Um91dGVyTGlzdCB9IGZyb20gJ0AvYXBpL3JvdXRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGVybWlzc2lvbnMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgYWNjb3VudDogJycKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcmVzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIHVzZXJuYW1lOiAndXNlci91c2VybmFtZScsCiAgICBwZXJtaXNzaW9uczogJ3VzZXIvcGVybWlzc2lvbnMnCiAgfSkpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZm9ybS5hY2NvdW50ID0gdGhpcy51c2VybmFtZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZVBlcm1pc3Npb246IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZVBlcm1pc3Npb24oKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRva2VuVGFibGVOYW1lLCAiIi5jb25jYXQodGhpcy5mb3JtLmFjY291bnQsICItYWNjZXNzVG9rZW4iKSk7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFJvdXRlckxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMucmVzID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,cAAA,QAAA,UAAA;AACA,SAAA,aAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OADA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,GAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,QAAA,EAAA,eADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAAA,CADA,CAXA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,SAAA,SAAA;AACA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,IAAA,CAAA,OAAA,GAAA,KAAA,QAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,cAAA,YAAA,KAAA,IAAA,CAAA,OAAA;AACA,MAAA,QAAA,CAAA,MAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,aAAA,EADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,GAAA,GAAA,GAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AATA;AAvBA,CAAA","sourcesContent":["<template>\n  <div class=\"permissions-container\">\n    <el-divider content-position=\"left\">\n      intelligence模式,前端根据permissions拦截路由(演示环境,默认使用此方案)\n    </el-divider>\n\n    <el-form ref=\"form\" :model=\"form\" :inline=\"true\">\n      <el-form-item label=\"切换账号\">\n        <el-radio-group v-model=\"form.account\">\n          <el-radio label=\"admin\">admin</el-radio>\n          <el-radio label=\"editor\">editor</el-radio>\n          <el-radio label=\"test\">test</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"handleChangePermission\">\n          切换权限\n        </el-button>\n      </el-form-item>\n      <el-form-item label=\"当前账号拥有的权限\">\n        {{ JSON.stringify(permissions) }}\n      </el-form-item>\n    </el-form>\n    <el-divider content-position=\"left\">按钮级权限演示</el-divider>\n    <el-button v-permissions=\"['admin']\" type=\"primary\">\n      我是拥有[\"admin\"]权限的按钮\n    </el-button>\n    <el-button v-permissions=\"['editor']\" type=\"primary\">\n      我是拥有[\"editor\"]权限的按钮\n    </el-button>\n    <el-button v-permissions=\"['test']\" type=\"primary\">\n      我是拥有[\"test\"]权限的按钮\n    </el-button>\n    <br />\n    <br />\n    <el-divider content-position=\"left\">\n      all模式,路由以及view文件引入全部交给后端(权限复杂,且随时变更,建议使用此方案)\n    </el-divider>\n    <p>\n      settings.js配置authentication为all即可完全交由后端控制,mock中有后端接口示例,权限繁琐,有几十种权限的项目直接用这种,\n      由于演示环境是mock数据模拟,可能无法展现此功能的配置,只做如下展示,便于您的理解\n    </p>\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n        <el-table\n          :data=\"tableData\"\n          row-key=\"path\"\n          border\n          default-expand-all\n          :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n        >\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"name\"\n            label=\"name\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"path\"\n            label=\"path\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"component\"\n            label=\"component\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"redirect\"\n            label=\"redirect\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"meta.title\"\n            label=\"标题\"\n          ></el-table-column>\n          <el-table-column show-overflow-tooltip label=\"图标\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                <vab-icon\n                  v-if=\"row.meta.icon\"\n                  :icon=\"['fas', row.meta.icon]\"\n                ></vab-icon>\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否固定\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.affix }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否无缓存\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.noKeepAlive }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"badge\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.badge }}\n              </span>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import { tokenTableName } from '@/config'\n  import { getRouterList } from '@/api/router'\n\n  export default {\n    name: 'Permissions',\n    data() {\n      return {\n        form: {\n          account: '',\n        },\n        tableData: [],\n        res: [],\n      }\n    },\n    computed: {\n      ...mapGetters({\n        username: 'user/username',\n        permissions: 'user/permissions',\n      }),\n    },\n    created() {\n      this.fetchData()\n    },\n    mounted() {\n      this.form.account = this.username\n    },\n    methods: {\n      handleChangePermission() {\n        localStorage.setItem(tokenTableName, `${this.form.account}-accessToken`)\n        location.reload()\n      },\n      async fetchData() {\n        const res = await getRouterList()\n        this.tableData = res.data\n        this.res = res\n      },\n    },\n  }\n</script>\n"],"sourceRoot":"src/views/vab/permissions"}]}