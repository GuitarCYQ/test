{"remainingRequest":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\views\\personnelManagement\\menuManagement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\views\\personnelManagement\\menuManagement\\index.vue","mtime":1638330357603},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZmlsZS90ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0Um91dGVyTGlzdCBhcyBnZXRMaXN0IH0gZnJvbSAnQC9hcGkvcm91dGVyJzsKaW1wb3J0IHsgZ2V0VHJlZSwgZG9EZWxldGUgfSBmcm9tICdAL2FwaS9tZW51TWFuYWdlbWVudCc7CmltcG9ydCBFZGl0IGZyb20gJy4vY29tcG9uZW50cy9NZW51TWFuYWdlbWVudEVkaXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01lbnVNYW5hZ2VtZW50JywKICBjb21wb25lbnRzOiB7CiAgICBFZGl0OiBFZGl0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogW10sCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgIH0sCiAgICAgIGxpc3Q6IFtdLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwKICAgICAgZWxlbWVudExvYWRpbmdUZXh0OiAn5q2j5Zyo5Yqg6L29Li4uJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByb2xlRGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXRUcmVlKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcm9sZURhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzLmRhdGEgPSByb2xlRGF0YS5kYXRhOwoKICAgICAgICAgICAgICBfdGhpcy5mZXRjaERhdGEoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIGlmIChyb3cucGF0aCkgewogICAgICAgIHRoaXMuJHJlZnNbJ2VkaXQnXS5zaG93RWRpdChyb3cpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnNbJ2VkaXQnXS5zaG93RWRpdCgpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHJvdy5pZCkgewogICAgICAgIHRoaXMuJGJhc2VDb25maXJtKCfkvaDnoa7lrpropoHliKDpmaTlvZPliY3pobnlkJcnLCBudWxsLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgIHZhciBfeWllbGQkZG9EZWxldGUsIG1zZzsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkb0RlbGV0ZSh7CiAgICAgICAgICAgICAgICAgICAgaWRzOiByb3cuaWQKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfeWllbGQkZG9EZWxldGUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgbXNnID0gX3lpZWxkJGRvRGVsZXRlLm1zZzsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYmFzZU1lc3NhZ2UobXNnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmZldGNoRGF0YSgpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKSk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3lpZWxkJGdldExpc3QsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldExpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGdldExpc3QgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0TGlzdC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMzLmxpc3QgPSBkYXRhOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSwgMzAwKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlTm9kZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVOb2RlQ2xpY2soZGF0YSkgewogICAgICB0aGlzLmZldGNoRGF0YSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA,SAAA,aAAA,IAAA,OAAA,QAAA,cAAA;AACA,SAAA,OAAA,EAAA,QAAA,QAAA,sBAAA;AACA,OAAA,IAAA,MAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,IAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA;AACA,QAAA,QAAA,EAAA,UADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAFA;AAMA,MAAA,IAAA,EAAA,EANA;AAOA,MAAA,WAAA,EAAA,IAPA;AAQA,MAAA,kBAAA,EAAA;AARA,KAAA;AAUA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,OAAA,EADA;;AAAA;AACA,cAAA,QADA;AAEA,cAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;;AACA,cAAA,KAAA,CAAA,SAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AACA,UAAA,GAAA,CAAA,IAAA,EAAA;AACA,aAAA,KAAA,CAAA,MAAA,EAAA,QAAA,CAAA,GAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,CAAA,MAAA,EAAA,QAAA;AACA;AACA,KAPA;AAQA,IAAA,YARA,wBAQA,GARA,EAQA;AAAA;;AACA,UAAA,GAAA,CAAA,EAAA,EAAA;AACA,aAAA,YAAA,CAAA,YAAA,EAAA,IAAA,uEAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACA,QAAA,CAAA;AAAA,oBAAA,GAAA,EAAA,GAAA,CAAA;AAAA,mBAAA,CADA;;AAAA;AAAA;AACA,kBAAA,GADA,mBACA,GADA;;AAEA,kBAAA,MAAA,CAAA,YAAA,CAAA,GAAA,EAAA,SAAA;;AACA,kBAAA,MAAA,CAAA,SAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;AAKA;AACA,KAhBA;AAiBA,IAAA,SAjBA,uBAiBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,WAAA,GAAA,IAAA;AADA;AAAA,uBAGA,OAAA,EAHA;;AAAA;AAAA;AAGA,gBAAA,IAHA,kBAGA,IAHA;AAIA,gBAAA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA,gBAAA,UAAA,CAAA,YAAA;AACA,kBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,iBAFA,EAEA,GAFA,CAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAzBA;AA0BA,IAAA,eA1BA,2BA0BA,IA1BA,EA0BA;AACA,WAAA,SAAA;AACA;AA5BA;AApBA,CAAA","sourcesContent":["<template>\n  <div class=\"menuManagement-container\">\n    <el-divider content-position=\"left\">\n      演示环境仅做基础功能展示，若想实现不同角色的真实菜单配置，需将settings.js路由加载模式改为all模式，由后端全面接管路由渲染与权限控制\n    </el-divider>\n    <el-row>\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"8\" :lg=\"4\" :xl=\"4\">\n        <el-tree\n          :data=\"data\"\n          :props=\"defaultProps\"\n          node-key=\"id\"\n          :default-expanded-keys=\"['root']\"\n          @node-click=\"handleNodeClick\"\n        ></el-tree>\n      </el-col>\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"16\" :lg=\"20\" :xl=\"20\">\n        <vab-query-form>\n          <vab-query-form-top-panel :span=\"12\">\n            <el-button icon=\"el-icon-plus\" type=\"primary\" @click=\"handleEdit\">\n              添加\n            </el-button>\n          </vab-query-form-top-panel>\n        </vab-query-form>\n        <el-table\n          v-loading=\"listLoading\"\n          :data=\"list\"\n          :element-loading-text=\"elementLoadingText\"\n          row-key=\"path\"\n          border\n          default-expand-all\n          :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n        >\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"name\"\n            label=\"name\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"path\"\n            label=\"路径\"\n          ></el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否隐藏\">\n            <template #default=\"{ row }\">\n              <span>\n                {{ row.hidden ? '是' : '否' }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否一直显示当前节点\">\n            <template #default=\"{ row }\">\n              <span>\n                {{ row.alwaysShow ? '是' : '否' }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"component\"\n            label=\"vue文件路径\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"redirect\"\n            label=\"重定向\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"meta.title\"\n            label=\"标题\"\n          ></el-table-column>\n          <el-table-column show-overflow-tooltip label=\"图标\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                <vab-icon\n                  v-if=\"row.meta.icon\"\n                  :icon=\"['fas', row.meta.icon]\"\n                ></vab-icon>\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否固定\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.affix ? '是' : '否' }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否无缓存\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.noKeepAlive ? '是' : '否' }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"badge\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.badge }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"操作\" width=\"200\">\n            <template #default=\"{ row }\">\n              <el-button type=\"text\" @click=\"handleEdit(row)\">编辑</el-button>\n              <el-button type=\"text\" @click=\"handleDelete(row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n\n    <edit ref=\"edit\" @fetch-data=\"fetchData\"></edit>\n  </div>\n</template>\n\n<script>\n  import { getRouterList as getList } from '@/api/router'\n  import { getTree, doDelete } from '@/api/menuManagement'\n  import Edit from './components/MenuManagementEdit'\n\n  export default {\n    name: 'MenuManagement',\n    components: { Edit },\n    data() {\n      return {\n        data: [],\n        defaultProps: {\n          children: 'children',\n          label: 'label',\n        },\n        list: [],\n        listLoading: true,\n        elementLoadingText: '正在加载...',\n      }\n    },\n    async created() {\n      const roleData = await getTree()\n      this.data = roleData.data\n      this.fetchData()\n    },\n    methods: {\n      handleEdit(row) {\n        if (row.path) {\n          this.$refs['edit'].showEdit(row)\n        } else {\n          this.$refs['edit'].showEdit()\n        }\n      },\n      handleDelete(row) {\n        if (row.id) {\n          this.$baseConfirm('你确定要删除当前项吗', null, async () => {\n            const { msg } = await doDelete({ ids: row.id })\n            this.$baseMessage(msg, 'success')\n            this.fetchData()\n          })\n        }\n      },\n      async fetchData() {\n        this.listLoading = true\n\n        const { data } = await getList()\n        this.list = data\n        setTimeout(() => {\n          this.listLoading = false\n        }, 300)\n      },\n      handleNodeClick(data) {\n        this.fetchData()\n      },\n    },\n  }\n</script>\n"],"sourceRoot":"src/views/personnelManagement/menuManagement"}]}