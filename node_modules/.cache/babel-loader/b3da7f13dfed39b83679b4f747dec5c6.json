{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\vue-admin-beautiful-test\\src\\views\\vab\\webSocket\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\views\\vab\\webSocket\\index.vue","mtime":1638330357830},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdXZWJTb2NrZXQnLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmw6ICd3czovLzEyMy4yMDcuMTM2LjEzNDo5MDEwL2FqYXhjaGF0dGVzdCcsCiAgICAgIHdlYlNvY2tldDogbnVsbCwKICAgICAgZGF0YTogW10sCiAgICAgIHN0YXR1czogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBtZXNzYWdlOiBudWxsCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbWVzc2FnZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpea2iOaBrycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLndlYlNvY2tldC5jbG9zZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpcy5zZW5kKF90aGlzLmZvcm0ubWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciB3c3VyaSA9IHRoaXMudXJsOwogICAgICB0aGlzLndlYlNvY2tldCA9IG5ldyBXZWJTb2NrZXQod3N1cmkpOwogICAgICB0aGlzLndlYlNvY2tldC5vbm1lc3NhZ2UgPSB0aGlzLm9ubWVzc2FnZTsKICAgICAgdGhpcy53ZWJTb2NrZXQub25vcGVuID0gdGhpcy5vbm9wZW47CiAgICAgIHRoaXMud2ViU29ja2V0Lm9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7CiAgICAgIHRoaXMud2ViU29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uY2xvc2U7CiAgICB9LAogICAgb25vcGVuOiBmdW5jdGlvbiBvbm9wZW4oKSB7CiAgICAgIHRoaXMuc3RhdHVzID0gJ+aIkOWKnyc7CiAgICB9LAogICAgb25lcnJvcjogZnVuY3Rpb24gb25lcnJvcigpIHsKICAgICAgdGhpcy5zdGF0dXMgPSAn5aSx6LSlJzsKICAgICAgdGhpcy5pbml0V2ViU29ja2V0KCk7CiAgICB9LAogICAgb25tZXNzYWdlOiBmdW5jdGlvbiBvbm1lc3NhZ2UoX3JlZikgewogICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgLy/miKrmjonmtYvor5V3ZWJTb2NrZXTlnLDlnYDlub/lkYoKICAgICAgdGhpcy5kYXRhLnB1c2goZGF0YS5zdWJzdHJpbmcoMCwgZGF0YS5sZW5ndGggLSA2NikpOwogICAgfSwKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoRGF0YSkgewogICAgICB0aGlzLndlYlNvY2tldC5zZW5kKERhdGEpOwogICAgfSwKICAgIG9uY2xvc2U6IGZ1bmN0aW9uIG9uY2xvc2UoZSkgewogICAgICB0aGlzLnN0YXR1cyA9ICfmlq3lvIAnOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,wCADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OALA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AADA;AANA,KAAA;AAUA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,IAAA;AACA,GAjBA;AAkBA,EAAA,SAlBA,uBAkBA;AACA,SAAA,SAAA,CAAA,KAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AACA,SAFA,MAEA;AACA,iBAAA,KAAA;AACA;AACA,OANA;AAOA,KATA;AAUA,IAAA,IAVA,kBAUA;AACA,UAAA,KAAA,GAAA,KAAA,GAAA;AACA,WAAA,SAAA,GAAA,IAAA,SAAA,CAAA,KAAA,CAAA;AACA,WAAA,SAAA,CAAA,SAAA,GAAA,KAAA,SAAA;AACA,WAAA,SAAA,CAAA,MAAA,GAAA,KAAA,MAAA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,KAAA,OAAA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,KAAA,OAAA;AACA,KAjBA;AAkBA,IAAA,MAlBA,oBAkBA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KApBA;AAqBA,IAAA,OArBA,qBAqBA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,aAAA;AACA,KAxBA;AAyBA,IAAA,SAzBA,2BAyBA;AAAA,UAAA,IAAA,QAAA,IAAA;AACA;AACA,WAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,GAAA,EAAA,CAAA;AACA,KA5BA;AA6BA,IAAA,IA7BA,gBA6BA,IA7BA,EA6BA;AACA,WAAA,SAAA,CAAA,IAAA,CAAA,IAAA;AACA,KA/BA;AAgCA,IAAA,OAhCA,mBAgCA,CAhCA,EAgCA;AACA,WAAA,MAAA,GAAA,IAAA;AACA;AAlCA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"webSocket-container\">\n    <el-row :gutter=\"20\">\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"8\" :xl=\"8\">\n        <el-alert type=\"success\" :closable=\"false\">\n          webSocket连接{{ status }}！\n        </el-alert>\n        <br />\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n          <el-form-item label=\"地址\">\n            <el-input v-model=\"url\" disabled></el-input>\n          </el-form-item>\n          <el-form-item label=\"消息\" prop=\"message\">\n            <el-input v-model=\"form.message\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submit\">发送消息</el-button>\n          </el-form-item>\n          <el-form-item label=\"返回信息汇总\">\n            {{ data }}\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'WebSocket',\n    components: {},\n    data() {\n      return {\n        url: 'ws://123.207.136.134:9010/ajaxchattest',\n        webSocket: null,\n        data: [],\n        status: '',\n        form: { message: null },\n        rules: {\n          message: [{ required: true, message: '请输入消息', trigger: 'blur' }],\n        },\n      }\n    },\n    created() {\n      this.init()\n    },\n    destroyed() {\n      this.webSocket.close()\n    },\n    methods: {\n      submit() {\n        this.$refs['form'].validate((valid) => {\n          if (valid) {\n            this.send(this.form.message)\n          } else {\n            return false\n          }\n        })\n      },\n      init() {\n        const wsuri = this.url\n        this.webSocket = new WebSocket(wsuri)\n        this.webSocket.onmessage = this.onmessage\n        this.webSocket.onopen = this.onopen\n        this.webSocket.onerror = this.onerror\n        this.webSocket.onclose = this.onclose\n      },\n      onopen() {\n        this.status = '成功'\n      },\n      onerror() {\n        this.status = '失败'\n        this.initWebSocket()\n      },\n      onmessage({ data }) {\n        //截掉测试webSocket地址广告\n        this.data.push(data.substring(0, data.length - 66))\n      },\n      send(Data) {\n        this.webSocket.send(Data)\n      },\n      onclose(e) {\n        this.status = '断开'\n      },\n    },\n  }\n</script>\n"],"sourceRoot":"src/views/vab/webSocket"}]}