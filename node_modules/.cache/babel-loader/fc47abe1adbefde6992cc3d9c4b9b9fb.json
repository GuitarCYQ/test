{"remainingRequest":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\test\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\software\\file\\test\\src\\store\\modules\\routes.js","dependencies":[{"path":"D:\\software\\file\\test\\src\\store\\modules\\routes.js","mtime":1638330357420},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9zb2Z0d2FyZS9maWxlL3Rlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZmlsZS90ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKCi8qKgogKiBAYXV0aG9yIGNodXpoaXhpbiAxMjA0NTA1MDU2QHFxLmNvbSDvvIjkuI3mg7Pkv53nlZlhdXRob3Llj6/liKDpmaTvvIkKICogQGRlc2NyaXB0aW9uIOi3r+eUseaLpuaIqueKtuaAgeeuoeeQhu+8jOebruWJjeS4pOenjeaooeW8j++8mmFsbOaooeW8j+S4jmludGVsbGlnZW5jZeaooeW8j++8jOWFtuS4rXBhcnRpYWxSb3V0ZXPmmK/oj5zljZXmmoLmnKrkvb/nlKgKICovCmltcG9ydCB7IGFzeW5jUm91dGVzLCBjb25zdGFudFJvdXRlcyB9IGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHsgZ2V0Um91dGVyTGlzdCB9IGZyb20gJ0AvYXBpL3JvdXRlcic7CmltcG9ydCB7IGNvbnZlcnRSb3V0ZXIsIGZpbHRlckFzeW5jUm91dGVzIH0gZnJvbSAnQC91dGlscy9oYW5kbGVSb3V0ZXMnOwoKdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIHJvdXRlczogW10sCiAgICBwYXJ0aWFsUm91dGVzOiBbXQogIH07Cn07Cgp2YXIgZ2V0dGVycyA9IHsKICByb3V0ZXM6IGZ1bmN0aW9uIHJvdXRlcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnJvdXRlczsKICB9LAogIHBhcnRpYWxSb3V0ZXM6IGZ1bmN0aW9uIHBhcnRpYWxSb3V0ZXMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wYXJ0aWFsUm91dGVzOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRSb3V0ZXM6IGZ1bmN0aW9uIHNldFJvdXRlcyhzdGF0ZSwgcm91dGVzKSB7CiAgICBzdGF0ZS5yb3V0ZXMgPSBjb25zdGFudFJvdXRlcy5jb25jYXQocm91dGVzKTsKICB9LAogIHNldEFsbFJvdXRlczogZnVuY3Rpb24gc2V0QWxsUm91dGVzKHN0YXRlLCByb3V0ZXMpIHsKICAgIHN0YXRlLnJvdXRlcyA9IGNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpOwogIH0sCiAgc2V0UGFydGlhbFJvdXRlczogZnVuY3Rpb24gc2V0UGFydGlhbFJvdXRlcyhzdGF0ZSwgcm91dGVzKSB7CiAgICBzdGF0ZS5wYXJ0aWFsUm91dGVzID0gY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBzZXRSb3V0ZXM6IGZ1bmN0aW9uIHNldFJvdXRlcyhfcmVmLCBwZXJtaXNzaW9ucykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZmluYWxseUFzeW5jUm91dGVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlckFzeW5jUm91dGVzKF90b0NvbnN1bWFibGVBcnJheShhc3luY1JvdXRlcyksIHBlcm1pc3Npb25zKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBmaW5hbGx5QXN5bmNSb3V0ZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0Um91dGVzJywgZmluYWxseUFzeW5jUm91dGVzKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmaW5hbGx5QXN5bmNSb3V0ZXMpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0QWxsUm91dGVzOiBmdW5jdGlvbiBzZXRBbGxSb3V0ZXMoX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBfeWllbGQkZ2V0Um91dGVyTGlzdCwgZGF0YSwgYWNjZXNzUm91dGVzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBnZXRSb3V0ZXJMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3lpZWxkJGdldFJvdXRlckxpc3QgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldFJvdXRlckxpc3QuZGF0YTsKICAgICAgICAgICAgICBkYXRhLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogJyonLAogICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICcvNDA0JywKICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGFjY2Vzc1JvdXRlcyA9IGNvbnZlcnRSb3V0ZXIoZGF0YSk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRBbGxSb3V0ZXMnLCBhY2Nlc3NSb3V0ZXMpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBhY2Nlc3NSb3V0ZXMpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBzZXRQYXJ0aWFsUm91dGVzOiBmdW5jdGlvbiBzZXRQYXJ0aWFsUm91dGVzKF9yZWYzLCBhY2Nlc3NSb3V0ZXMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICBjb21taXQoJ3NldFBhcnRpYWxSb3V0ZXMnLCBhY2Nlc3NSb3V0ZXMpOwogICAgcmV0dXJuIGFjY2Vzc1JvdXRlczsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["D:/software/file/test/src/store/modules/routes.js"],"names":["asyncRoutes","constantRoutes","getRouterList","convertRouter","filterAsyncRoutes","state","routes","partialRoutes","getters","mutations","setRoutes","concat","setAllRoutes","setPartialRoutes","actions","permissions","commit","finallyAsyncRoutes","data","push","path","redirect","hidden","accessRoutes"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,SAASA,WAAT,EAAsBC,cAAtB,QAA4C,UAA5C;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,aAAT,EAAwBC,iBAAxB,QAAiD,sBAAjD;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAO;AACnBC,IAAAA,MAAM,EAAE,EADW;AAEnBC,IAAAA,aAAa,EAAE;AAFI,GAAP;AAAA,CAAd;;AAIA,IAAMC,OAAO,GAAG;AACdF,EAAAA,MAAM,EAAE,gBAACD,KAAD;AAAA,WAAWA,KAAK,CAACC,MAAjB;AAAA,GADM;AAEdC,EAAAA,aAAa,EAAE,uBAACF,KAAD;AAAA,WAAWA,KAAK,CAACE,aAAjB;AAAA;AAFD,CAAhB;AAIA,IAAME,SAAS,GAAG;AAChBC,EAAAA,SADgB,qBACNL,KADM,EACCC,MADD,EACS;AACvBD,IAAAA,KAAK,CAACC,MAAN,GAAeL,cAAc,CAACU,MAAf,CAAsBL,MAAtB,CAAf;AACD,GAHe;AAIhBM,EAAAA,YAJgB,wBAIHP,KAJG,EAIIC,MAJJ,EAIY;AAC1BD,IAAAA,KAAK,CAACC,MAAN,GAAeL,cAAc,CAACU,MAAf,CAAsBL,MAAtB,CAAf;AACD,GANe;AAOhBO,EAAAA,gBAPgB,4BAOCR,KAPD,EAOQC,MAPR,EAOgB;AAC9BD,IAAAA,KAAK,CAACE,aAAN,GAAsBN,cAAc,CAACU,MAAf,CAAsBL,MAAtB,CAAtB;AACD;AATe,CAAlB;AAWA,IAAMQ,OAAO,GAAG;AACRJ,EAAAA,SADQ,2BACcK,WADd,EAC2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvBC,cAAAA,MAAuB,QAAvBA,MAAuB;AAAA;AAAA,qBAENZ,iBAAiB,oBAC5CJ,WAD4C,GAEhDe,WAFgD,CAFX;;AAAA;AAEjCE,cAAAA,kBAFiC;AAMvCD,cAAAA,MAAM,CAAC,WAAD,EAAcC,kBAAd,CAAN;AANuC,+CAOhCA,kBAPgC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxC,GATa;AAURL,EAAAA,YAVQ,+BAUiB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAVI,cAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA,qBACRd,aAAa,EADL;;AAAA;AAAA;AACvBgB,cAAAA,IADuB,wBACvBA,IADuB;AAE7BA,cAAAA,IAAI,CAACC,IAAL,CAAU;AAAEC,gBAAAA,IAAI,EAAE,GAAR;AAAaC,gBAAAA,QAAQ,EAAE,MAAvB;AAA+BC,gBAAAA,MAAM,EAAE;AAAvC,eAAV;AACIC,cAAAA,YAHyB,GAGVpB,aAAa,CAACe,IAAD,CAHH;AAI7BF,cAAAA,MAAM,CAAC,cAAD,EAAiBO,YAAjB,CAAN;AAJ6B,gDAKtBA,YALsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM9B,GAhBa;AAiBdV,EAAAA,gBAjBc,mCAiBeU,YAjBf,EAiB6B;AAAA,QAAxBP,MAAwB,SAAxBA,MAAwB;AACzCA,IAAAA,MAAM,CAAC,kBAAD,EAAqBO,YAArB,CAAN;AACA,WAAOA,YAAP;AACD;AApBa,CAAhB;AAsBA,eAAe;AAAElB,EAAAA,KAAK,EAALA,KAAF;AAASG,EAAAA,OAAO,EAAPA,OAAT;AAAkBC,EAAAA,SAAS,EAATA,SAAlB;AAA6BK,EAAAA,OAAO,EAAPA;AAA7B,CAAf","sourcesContent":["/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description 路由拦截状态管理，目前两种模式：all模式与intelligence模式，其中partialRoutes是菜单暂未使用\n */\nimport { asyncRoutes, constantRoutes } from '@/router'\nimport { getRouterList } from '@/api/router'\nimport { convertRouter, filterAsyncRoutes } from '@/utils/handleRoutes'\n\nconst state = () => ({\n  routes: [],\n  partialRoutes: [],\n})\nconst getters = {\n  routes: (state) => state.routes,\n  partialRoutes: (state) => state.partialRoutes,\n}\nconst mutations = {\n  setRoutes(state, routes) {\n    state.routes = constantRoutes.concat(routes)\n  },\n  setAllRoutes(state, routes) {\n    state.routes = constantRoutes.concat(routes)\n  },\n  setPartialRoutes(state, routes) {\n    state.partialRoutes = constantRoutes.concat(routes)\n  },\n}\nconst actions = {\n  async setRoutes({ commit }, permissions) {\n    //开源版只过滤动态路由permissions，admin不再默认拥有全部权限\n    const finallyAsyncRoutes = await filterAsyncRoutes(\n      [...asyncRoutes],\n      permissions\n    )\n    commit('setRoutes', finallyAsyncRoutes)\n    return finallyAsyncRoutes\n  },\n  async setAllRoutes({ commit }) {\n    let { data } = await getRouterList()\n    data.push({ path: '*', redirect: '/404', hidden: true })\n    let accessRoutes = convertRouter(data)\n    commit('setAllRoutes', accessRoutes)\n    return accessRoutes\n  },\n  setPartialRoutes({ commit }, accessRoutes) {\n    commit('setPartialRoutes', accessRoutes)\n    return accessRoutes\n  },\n}\nexport default { state, getters, mutations, actions }\n"]}]}