{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\software\\file\\vue-admin-beautiful-test\\src\\utils\\handleRoutes.js","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\utils\\handleRoutes.js","mtime":1638330357502},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L3NvZnR3YXJlL2ZpbGUvdnVlLWFkbWluLWJlYXV0aWZ1bC10ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKCi8qKgogKiBAYXV0aG9yIGNodXpoaXhpbiAxMjA0NTA1MDU2QHFxLmNvbSDvvIjkuI3mg7Pkv53nlZlhdXRob3Llj6/liKDpmaTvvIkKICogQGRlc2NyaXB0aW9uIGFsbOaooeW8j+a4suafk+WQjuerr+i/lOWbnui3r+eUsQogKiBAcGFyYW0gY29uc3RhbnRSb3V0ZXMKICogQHJldHVybnMgeyp9CiAqLwpleHBvcnQgZnVuY3Rpb24gY29udmVydFJvdXRlcihhc3luY1JvdXRlcykgewogIHJldHVybiBhc3luY1JvdXRlcy5tYXAoZnVuY3Rpb24gKHJvdXRlKSB7CiAgICBpZiAocm91dGUuY29tcG9uZW50KSB7CiAgICAgIGlmIChyb3V0ZS5jb21wb25lbnQgPT09ICdMYXlvdXQnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKFsnQC9sYXlvdXRzJ10sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAocm91dGUuY29tcG9uZW50ID09PSAnRW1wdHlMYXlvdXQnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKFsnQC9sYXlvdXRzL0VtcHR5TGF5b3V0J10sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGluZGV4ID0gcm91dGUuY29tcG9uZW50LmluZGV4T2YoJ3ZpZXdzJyk7CiAgICAgICAgdmFyIHBhdGggPSBpbmRleCA+IDAgPyByb3V0ZS5jb21wb25lbnQuc2xpY2UoaW5kZXgpIDogInZpZXdzLyIuY29uY2F0KHJvdXRlLmNvbXBvbmVudCk7CgogICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICByZXR1cm4gcmVxdWlyZShbIkAvIi5jb25jYXQocGF0aCldLCByZXNvbHZlKTsKICAgICAgICB9OwogICAgICB9CiAgICB9CgogICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCkgcm91dGUuY2hpbGRyZW4gPSBjb252ZXJ0Um91dGVyKHJvdXRlLmNoaWxkcmVuKTsKICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIGRlbGV0ZSByb3V0ZS5jaGlsZHJlbjsKICAgIHJldHVybiByb3V0ZTsKICB9KTsKfQovKioKICogQGF1dGhvciBjaHV6aGl4aW4gMTIwNDUwNTA1NkBxcS5jb20g77yI5LiN5oOz5L+d55WZYXV0aG9y5Y+v5Yig6Zmk77yJCiAqIEBkZXNjcmlwdGlvbiDliKTmlq3lvZPliY3ot6/nlLHmmK/lkKbljIXlkKvmnYPpmZAKICogQHBhcmFtIHBlcm1pc3Npb25zCiAqIEBwYXJhbSByb3V0ZQogKiBAcmV0dXJucyB7Ym9vbGVhbnwqfQogKi8KCmZ1bmN0aW9uIGhhc1Blcm1pc3Npb24ocGVybWlzc2lvbnMsIHJvdXRlKSB7CiAgaWYgKHJvdXRlLm1ldGEgJiYgcm91dGUubWV0YS5wZXJtaXNzaW9ucykgewogICAgcmV0dXJuIHBlcm1pc3Npb25zLnNvbWUoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgcmV0dXJuIHJvdXRlLm1ldGEucGVybWlzc2lvbnMuaW5jbHVkZXMocm9sZSk7CiAgICB9KTsKICB9IGVsc2UgewogICAgcmV0dXJuIHRydWU7CiAgfQp9Ci8qKgogKiBAYXV0aG9yIGNodXpoaXhpbiAxMjA0NTA1MDU2QHFxLmNvbSDvvIjkuI3mg7Pkv53nlZlhdXRob3Llj6/liKDpmaTvvIkKICogQGRlc2NyaXB0aW9uIGludGVsbGlnZW5jZeaooeW8j+agueaNrnBlcm1pc3Npb25z5pWw57uE5oum5oiq6Lev55SxCiAqIEBwYXJhbSByb3V0ZXMKICogQHBhcmFtIHBlcm1pc3Npb25zCiAqIEByZXR1cm5zIHtbXX0KICovCgoKZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckFzeW5jUm91dGVzKHJvdXRlcywgcGVybWlzc2lvbnMpIHsKICB2YXIgZmluYWxseVJvdXRlcyA9IFtdOwogIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgdmFyIGl0ZW0gPSBfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZSk7CgogICAgaWYgKGhhc1Blcm1pc3Npb24ocGVybWlzc2lvbnMsIGl0ZW0pKSB7CiAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7CiAgICAgICAgaXRlbS5jaGlsZHJlbiA9IGZpbHRlckFzeW5jUm91dGVzKGl0ZW0uY2hpbGRyZW4sIHBlcm1pc3Npb25zKTsKICAgICAgfQoKICAgICAgZmluYWxseVJvdXRlcy5wdXNoKGl0ZW0pOwogICAgfQogIH0pOwogIHJldHVybiBmaW5hbGx5Um91dGVzOwp9"},{"version":3,"sources":["D:/software/file/vue-admin-beautiful-test/src/utils/handleRoutes.js"],"names":["convertRouter","asyncRoutes","map","route","component","resolve","require","index","indexOf","path","slice","children","length","hasPermission","permissions","meta","some","role","includes","filterAsyncRoutes","routes","finallyRoutes","forEach","item","push"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,aAAT,CAAuBC,WAAvB,EAAoC;AACzC,SAAOA,WAAW,CAACC,GAAZ,CAAgB,UAACC,KAAD,EAAW;AAChC,QAAIA,KAAK,CAACC,SAAV,EAAqB;AACnB,UAAID,KAAK,CAACC,SAAN,KAAoB,QAAxB,EAAkC;AAChCD,QAAAA,KAAK,CAACC,SAAN,GAAkB,UAACC,OAAD;AAAA,iBAAaC,OAAO,CAAC,CAAC,WAAD,CAAD,EAAgBD,OAAhB,CAApB;AAAA,SAAlB;AACD,OAFD,MAEO,IAAIF,KAAK,CAACC,SAAN,KAAoB,aAAxB,EAAuC;AAC5CD,QAAAA,KAAK,CAACC,SAAN,GAAkB,UAACC,OAAD;AAAA,iBAChBC,OAAO,CAAC,CAAC,uBAAD,CAAD,EAA4BD,OAA5B,CADS;AAAA,SAAlB;AAED,OAHM,MAGA;AACL,YAAME,KAAK,GAAGJ,KAAK,CAACC,SAAN,CAAgBI,OAAhB,CAAwB,OAAxB,CAAd;AACA,YAAMC,IAAI,GACRF,KAAK,GAAG,CAAR,GAAYJ,KAAK,CAACC,SAAN,CAAgBM,KAAhB,CAAsBH,KAAtB,CAAZ,mBAAoDJ,KAAK,CAACC,SAA1D,CADF;;AAEAD,QAAAA,KAAK,CAACC,SAAN,GAAkB,UAACC,OAAD;AAAA,iBAAaC,OAAO,CAAC,aAAMG,IAAN,EAAD,EAAgBJ,OAAhB,CAApB;AAAA,SAAlB;AACD;AACF;;AACD,QAAIF,KAAK,CAACQ,QAAN,IAAkBR,KAAK,CAACQ,QAAN,CAAeC,MAArC,EACET,KAAK,CAACQ,QAAN,GAAiBX,aAAa,CAACG,KAAK,CAACQ,QAAP,CAA9B;AACF,QAAIR,KAAK,CAACQ,QAAN,IAAkBR,KAAK,CAACQ,QAAN,CAAeC,MAAf,KAA0B,CAAhD,EAAmD,OAAOT,KAAK,CAACQ,QAAb;AACnD,WAAOR,KAAP;AACD,GAlBM,CAAP;AAmBD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASU,aAAT,CAAuBC,WAAvB,EAAoCX,KAApC,EAA2C;AACzC,MAAIA,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWD,WAA7B,EAA0C;AACxC,WAAOA,WAAW,CAACE,IAAZ,CAAiB,UAACC,IAAD;AAAA,aAAUd,KAAK,CAACY,IAAN,CAAWD,WAAX,CAAuBI,QAAvB,CAAgCD,IAAhC,CAAV;AAAA,KAAjB,CAAP;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASE,iBAAT,CAA2BC,MAA3B,EAAmCN,WAAnC,EAAgD;AACrD,MAAMO,aAAa,GAAG,EAAtB;AACAD,EAAAA,MAAM,CAACE,OAAP,CAAe,UAACnB,KAAD,EAAW;AACxB,QAAMoB,IAAI,qBAAQpB,KAAR,CAAV;;AACA,QAAIU,aAAa,CAACC,WAAD,EAAcS,IAAd,CAAjB,EAAsC;AACpC,UAAIA,IAAI,CAACZ,QAAT,EAAmB;AACjBY,QAAAA,IAAI,CAACZ,QAAL,GAAgBQ,iBAAiB,CAACI,IAAI,CAACZ,QAAN,EAAgBG,WAAhB,CAAjC;AACD;;AACDO,MAAAA,aAAa,CAACG,IAAd,CAAmBD,IAAnB;AACD;AACF,GARD;AASA,SAAOF,aAAP;AACD","sourcesContent":["/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description all模式渲染后端返回路由\n * @param constantRoutes\n * @returns {*}\n */\nexport function convertRouter(asyncRoutes) {\n  return asyncRoutes.map((route) => {\n    if (route.component) {\n      if (route.component === 'Layout') {\n        route.component = (resolve) => require(['@/layouts'], resolve)\n      } else if (route.component === 'EmptyLayout') {\n        route.component = (resolve) =>\n          require(['@/layouts/EmptyLayout'], resolve)\n      } else {\n        const index = route.component.indexOf('views')\n        const path =\n          index > 0 ? route.component.slice(index) : `views/${route.component}`\n        route.component = (resolve) => require([`@/${path}`], resolve)\n      }\n    }\n    if (route.children && route.children.length)\n      route.children = convertRouter(route.children)\n    if (route.children && route.children.length === 0) delete route.children\n    return route\n  })\n}\n\n/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description 判断当前路由是否包含权限\n * @param permissions\n * @param route\n * @returns {boolean|*}\n */\nfunction hasPermission(permissions, route) {\n  if (route.meta && route.meta.permissions) {\n    return permissions.some((role) => route.meta.permissions.includes(role))\n  } else {\n    return true\n  }\n}\n\n/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description intelligence模式根据permissions数组拦截路由\n * @param routes\n * @param permissions\n * @returns {[]}\n */\nexport function filterAsyncRoutes(routes, permissions) {\n  const finallyRoutes = []\n  routes.forEach((route) => {\n    const item = { ...route }\n    if (hasPermission(permissions, item)) {\n      if (item.children) {\n        item.children = filterAsyncRoutes(item.children, permissions)\n      }\n      finallyRoutes.push(item)\n    }\n  })\n  return finallyRoutes\n}\n"]}]}