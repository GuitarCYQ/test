{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\software\\file\\vue-admin-beautiful-test\\src\\store\\modules\\routes.js","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\store\\modules\\routes.js","mtime":1638330357420},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9zb2Z0d2FyZS9maWxlL3Z1ZS1hZG1pbi1iZWF1dGlmdWwtdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9zb2Z0d2FyZS9maWxlL3Z1ZS1hZG1pbi1iZWF1dGlmdWwtdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CgovKioKICogQGF1dGhvciBjaHV6aGl4aW4gMTIwNDUwNTA1NkBxcS5jb20g77yI5LiN5oOz5L+d55WZYXV0aG9y5Y+v5Yig6Zmk77yJCiAqIEBkZXNjcmlwdGlvbiDot6/nlLHmi6bmiKrnirbmgIHnrqHnkIbvvIznm67liY3kuKTnp43mqKHlvI/vvJphbGzmqKHlvI/kuI5pbnRlbGxpZ2VuY2XmqKHlvI/vvIzlhbbkuK1wYXJ0aWFsUm91dGVz5piv6I+c5Y2V5pqC5pyq5L2/55SoCiAqLwppbXBvcnQgeyBhc3luY1JvdXRlcywgY29uc3RhbnRSb3V0ZXMgfSBmcm9tICdAL3JvdXRlcic7CmltcG9ydCB7IGdldFJvdXRlckxpc3QgfSBmcm9tICdAL2FwaS9yb3V0ZXInOwppbXBvcnQgeyBjb252ZXJ0Um91dGVyLCBmaWx0ZXJBc3luY1JvdXRlcyB9IGZyb20gJ0AvdXRpbHMvaGFuZGxlUm91dGVzJzsKCnZhciBzdGF0ZSA9IGZ1bmN0aW9uIHN0YXRlKCkgewogIHJldHVybiB7CiAgICByb3V0ZXM6IFtdLAogICAgcGFydGlhbFJvdXRlczogW10KICB9Owp9OwoKdmFyIGdldHRlcnMgPSB7CiAgcm91dGVzOiBmdW5jdGlvbiByb3V0ZXMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5yb3V0ZXM7CiAgfSwKICBwYXJ0aWFsUm91dGVzOiBmdW5jdGlvbiBwYXJ0aWFsUm91dGVzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucGFydGlhbFJvdXRlczsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0Um91dGVzOiBmdW5jdGlvbiBzZXRSb3V0ZXMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUucm91dGVzID0gY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgfSwKICBzZXRBbGxSb3V0ZXM6IGZ1bmN0aW9uIHNldEFsbFJvdXRlcyhzdGF0ZSwgcm91dGVzKSB7CiAgICBzdGF0ZS5yb3V0ZXMgPSBjb25zdGFudFJvdXRlcy5jb25jYXQocm91dGVzKTsKICB9LAogIHNldFBhcnRpYWxSb3V0ZXM6IGZ1bmN0aW9uIHNldFBhcnRpYWxSb3V0ZXMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUucGFydGlhbFJvdXRlcyA9IGNvbnN0YW50Um91dGVzLmNvbmNhdChyb3V0ZXMpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgc2V0Um91dGVzOiBmdW5jdGlvbiBzZXRSb3V0ZXMoX3JlZiwgcGVybWlzc2lvbnMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIGZpbmFsbHlBc3luY1JvdXRlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJBc3luY1JvdXRlcyhfdG9Db25zdW1hYmxlQXJyYXkoYXN5bmNSb3V0ZXMpLCBwZXJtaXNzaW9ucyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgZmluYWxseUFzeW5jUm91dGVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldFJvdXRlcycsIGZpbmFsbHlBc3luY1JvdXRlcyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmluYWxseUFzeW5jUm91dGVzKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHNldEFsbFJvdXRlczogZnVuY3Rpb24gc2V0QWxsUm91dGVzKF9yZWYyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgX3lpZWxkJGdldFJvdXRlckxpc3QsIGRhdGEsIGFjY2Vzc1JvdXRlczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZ2V0Um91dGVyTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF95aWVsZCRnZXRSb3V0ZXJMaXN0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRSb3V0ZXJMaXN0LmRhdGE7CiAgICAgICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICcqJywKICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnLzQwNCcsCiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhY2Nlc3NSb3V0ZXMgPSBjb252ZXJ0Um91dGVyKGRhdGEpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWxsUm91dGVzJywgYWNjZXNzUm91dGVzKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgYWNjZXNzUm91dGVzKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgc2V0UGFydGlhbFJvdXRlczogZnVuY3Rpb24gc2V0UGFydGlhbFJvdXRlcyhfcmVmMywgYWNjZXNzUm91dGVzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgY29tbWl0KCdzZXRQYXJ0aWFsUm91dGVzJywgYWNjZXNzUm91dGVzKTsKICAgIHJldHVybiBhY2Nlc3NSb3V0ZXM7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["D:/software/file/vue-admin-beautiful-test/src/store/modules/routes.js"],"names":["asyncRoutes","constantRoutes","getRouterList","convertRouter","filterAsyncRoutes","state","routes","partialRoutes","getters","mutations","setRoutes","concat","setAllRoutes","setPartialRoutes","actions","permissions","commit","finallyAsyncRoutes","data","push","path","redirect","hidden","accessRoutes"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,SAASA,WAAT,EAAsBC,cAAtB,QAA4C,UAA5C;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,aAAT,EAAwBC,iBAAxB,QAAiD,sBAAjD;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAO;AACnBC,IAAAA,MAAM,EAAE,EADW;AAEnBC,IAAAA,aAAa,EAAE;AAFI,GAAP;AAAA,CAAd;;AAIA,IAAMC,OAAO,GAAG;AACdF,EAAAA,MAAM,EAAE,gBAACD,KAAD;AAAA,WAAWA,KAAK,CAACC,MAAjB;AAAA,GADM;AAEdC,EAAAA,aAAa,EAAE,uBAACF,KAAD;AAAA,WAAWA,KAAK,CAACE,aAAjB;AAAA;AAFD,CAAhB;AAIA,IAAME,SAAS,GAAG;AAChBC,EAAAA,SADgB,qBACNL,KADM,EACCC,MADD,EACS;AACvBD,IAAAA,KAAK,CAACC,MAAN,GAAeL,cAAc,CAACU,MAAf,CAAsBL,MAAtB,CAAf;AACD,GAHe;AAIhBM,EAAAA,YAJgB,wBAIHP,KAJG,EAIIC,MAJJ,EAIY;AAC1BD,IAAAA,KAAK,CAACC,MAAN,GAAeL,cAAc,CAACU,MAAf,CAAsBL,MAAtB,CAAf;AACD,GANe;AAOhBO,EAAAA,gBAPgB,4BAOCR,KAPD,EAOQC,MAPR,EAOgB;AAC9BD,IAAAA,KAAK,CAACE,aAAN,GAAsBN,cAAc,CAACU,MAAf,CAAsBL,MAAtB,CAAtB;AACD;AATe,CAAlB;AAWA,IAAMQ,OAAO,GAAG;AACRJ,EAAAA,SADQ,2BACcK,WADd,EAC2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvBC,cAAAA,MAAuB,QAAvBA,MAAuB;AAAA;AAAA,qBAENZ,iBAAiB,oBAC5CJ,WAD4C,GAEhDe,WAFgD,CAFX;;AAAA;AAEjCE,cAAAA,kBAFiC;AAMvCD,cAAAA,MAAM,CAAC,WAAD,EAAcC,kBAAd,CAAN;AANuC,+CAOhCA,kBAPgC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxC,GATa;AAURL,EAAAA,YAVQ,+BAUiB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAVI,cAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA,qBACRd,aAAa,EADL;;AAAA;AAAA;AACvBgB,cAAAA,IADuB,wBACvBA,IADuB;AAE7BA,cAAAA,IAAI,CAACC,IAAL,CAAU;AAAEC,gBAAAA,IAAI,EAAE,GAAR;AAAaC,gBAAAA,QAAQ,EAAE,MAAvB;AAA+BC,gBAAAA,MAAM,EAAE;AAAvC,eAAV;AACIC,cAAAA,YAHyB,GAGVpB,aAAa,CAACe,IAAD,CAHH;AAI7BF,cAAAA,MAAM,CAAC,cAAD,EAAiBO,YAAjB,CAAN;AAJ6B,gDAKtBA,YALsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM9B,GAhBa;AAiBdV,EAAAA,gBAjBc,mCAiBeU,YAjBf,EAiB6B;AAAA,QAAxBP,MAAwB,SAAxBA,MAAwB;AACzCA,IAAAA,MAAM,CAAC,kBAAD,EAAqBO,YAArB,CAAN;AACA,WAAOA,YAAP;AACD;AApBa,CAAhB;AAsBA,eAAe;AAAElB,EAAAA,KAAK,EAALA,KAAF;AAASG,EAAAA,OAAO,EAAPA,OAAT;AAAkBC,EAAAA,SAAS,EAATA,SAAlB;AAA6BK,EAAAA,OAAO,EAAPA;AAA7B,CAAf","sourcesContent":["/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description 路由拦截状态管理，目前两种模式：all模式与intelligence模式，其中partialRoutes是菜单暂未使用\n */\nimport { asyncRoutes, constantRoutes } from '@/router'\nimport { getRouterList } from '@/api/router'\nimport { convertRouter, filterAsyncRoutes } from '@/utils/handleRoutes'\n\nconst state = () => ({\n  routes: [],\n  partialRoutes: [],\n})\nconst getters = {\n  routes: (state) => state.routes,\n  partialRoutes: (state) => state.partialRoutes,\n}\nconst mutations = {\n  setRoutes(state, routes) {\n    state.routes = constantRoutes.concat(routes)\n  },\n  setAllRoutes(state, routes) {\n    state.routes = constantRoutes.concat(routes)\n  },\n  setPartialRoutes(state, routes) {\n    state.partialRoutes = constantRoutes.concat(routes)\n  },\n}\nconst actions = {\n  async setRoutes({ commit }, permissions) {\n    //开源版只过滤动态路由permissions，admin不再默认拥有全部权限\n    const finallyAsyncRoutes = await filterAsyncRoutes(\n      [...asyncRoutes],\n      permissions\n    )\n    commit('setRoutes', finallyAsyncRoutes)\n    return finallyAsyncRoutes\n  },\n  async setAllRoutes({ commit }) {\n    let { data } = await getRouterList()\n    data.push({ path: '*', redirect: '/404', hidden: true })\n    let accessRoutes = convertRouter(data)\n    commit('setAllRoutes', accessRoutes)\n    return accessRoutes\n  },\n  setPartialRoutes({ commit }, accessRoutes) {\n    commit('setPartialRoutes', accessRoutes)\n    return accessRoutes\n  },\n}\nexport default { state, getters, mutations, actions }\n"]}]}