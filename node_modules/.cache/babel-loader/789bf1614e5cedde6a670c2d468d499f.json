{"remainingRequest":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\layouts\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\layouts\\index.vue","mtime":1638330357339},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9zb2Z0d2FyZS9maWxlL3Rlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHRva2VuTmFtZSB9IGZyb20gJ0AvY29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMYXlvdXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvbGRMYXlvdXQ6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBsYXlvdXQ6ICdzZXR0aW5ncy9sYXlvdXQnLAogICAgdGFic0JhcjogJ3NldHRpbmdzL3RhYnNCYXInLAogICAgY29sbGFwc2U6ICdzZXR0aW5ncy9jb2xsYXBzZScsCiAgICBoZWFkZXI6ICdzZXR0aW5ncy9oZWFkZXInLAogICAgZGV2aWNlOiAnc2V0dGluZ3MvZGV2aWNlJwogIH0pKSwge30sIHsKICAgIGNsYXNzT2JqOiBmdW5jdGlvbiBjbGFzc09iaigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBtb2JpbGU6IHRoaXMuZGV2aWNlID09PSAnbW9iaWxlJwogICAgICB9OwogICAgfQogIH0pLAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMub2xkTGF5b3V0ID0gdGhpcy5sYXlvdXQ7CiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDsKCiAgICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCdKdWVqaW4nKSkgewogICAgICB0aGlzLiRiYXNlQWxlcnQoJ3Z1ZS1hZG1pbi1iZWF1dGlmdWzkuI3mlK/mjIHlnKjmjpjph5HlhoXnva7mtY/op4jlmajmvJTnpLrvvIzor7fmiYvliqjlpI3liLbku6XkuIvlnLDlnYDliLDmtY/op4jlmajkuK3mn6XnnItodHRwOi8vbXBmaHJkNDguc2FueGluZy51ejcuY24vdnVlLWFkbWluLWJlYXV0aWZ1bCcpOwogICAgfQoKICAgIHZhciBpc01vYmlsZSA9IHRoaXMuaGFuZGxlSXNNb2JpbGUoKTsKCiAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgICAgLy/mqKrlkJHluIPlsYDml7blpoLmnpzmmK/miYvmnLrnq6/orr/pl67pgqPkuYjmlLnmiJDnurXlkJHniYgKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvY2hhbmdlTGF5b3V0JywgJ3ZlcnRpY2FsJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL2NoYW5nZUxheW91dCcsIHRoaXMub2xkTGF5b3V0KTsKICAgICAgfQoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL3RvZ2dsZURldmljZScsICdtb2JpbGUnKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXR0aW5ncy9mb2xkU2lkZUJhcicpOwogICAgICB9LCAyMDAwKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXR0aW5ncy9vcGVuU2lkZUJhcicpOwogICAgfQoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmtleSA9PT0gdG9rZW5OYW1lIHx8IGUua2V5ID09PSBudWxsKSB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgaWYgKGUua2V5ID09PSB0b2tlbk5hbWUgJiYgZS52YWx1ZSA9PT0gbnVsbCkgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9LCBmYWxzZSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyh7CiAgICBoYW5kbGVGb2xkU2lkZUJhcjogJ3NldHRpbmdzL2ZvbGRTaWRlQmFyJwogIH0pKSwge30sIHsKICAgIGhhbmRsZUlzTW9iaWxlOiBmdW5jdGlvbiBoYW5kbGVJc01vYmlsZSgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAxIDwgOTkyOwogICAgfSwKICAgIGhhbmRsZVJlc2l6ZTogZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkgewogICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgewogICAgICAgIHZhciBpc01vYmlsZSA9IHRoaXMuaGFuZGxlSXNNb2JpbGUoKTsKCiAgICAgICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgICAgICAvL+aoquWQkeW4g+WxgOaXtuWmguaenOaYr+aJi+acuuerr+iuv+mXrumCo+S5iOaUueaIkOe6teWQkeeJiAogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL2NoYW5nZUxheW91dCcsICd2ZXJ0aWNhbCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvY2hhbmdlTGF5b3V0JywgdGhpcy5vbGRMYXlvdXQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL3RvZ2dsZURldmljZScsIGlzTW9iaWxlID8gJ21vYmlsZScgOiAnZGVza3RvcCcpOwogICAgICB9CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"vue-admin-beautiful-wrapper\" :class=\"classObj\">\n    <div\n      v-if=\"'horizontal' === layout\"\n      class=\"layout-container-horizontal\"\n      :class=\"{\n        fixed: header === 'fixed',\n        'no-tabs-bar': tabsBar === 'false' || tabsBar === false,\n      }\"\n    >\n      <div :class=\"header === 'fixed' ? 'fixed-header' : ''\">\n        <vab-top-bar />\n        <div\n          v-if=\"tabsBar === 'true' || tabsBar === true\"\n          :class=\"{ 'tag-view-show': tabsBar }\"\n        >\n          <div class=\"vab-main\">\n            <vab-tabs-bar />\n          </div>\n        </div>\n      </div>\n      <div class=\"vab-main main-padding\">\n        <vab-ad />\n        <vab-app-main />\n      </div>\n    </div>\n    <div\n      v-else\n      class=\"layout-container-vertical\"\n      :class=\"{\n        fixed: header === 'fixed',\n        'no-tabs-bar': tabsBar === 'false' || tabsBar === false,\n      }\"\n    >\n      <div\n        v-if=\"device === 'mobile' && collapse === false\"\n        class=\"mask\"\n        @click=\"handleFoldSideBar\"\n      />\n      <vab-side-bar />\n      <div class=\"vab-main\" :class=\"collapse ? 'is-collapse-main' : ''\">\n        <div :class=\"header === 'fixed' ? 'fixed-header' : ''\">\n          <vab-nav-bar />\n          <vab-tabs-bar v-if=\"tabsBar === 'true' || tabsBar === true\" />\n        </div>\n        <vab-ad />\n        <vab-app-main />\n      </div>\n    </div>\n    <el-backtop />\n  </div>\n</template>\n\n<script>\n  import { mapActions, mapGetters } from 'vuex'\n  import { tokenName } from '@/config'\n  export default {\n    name: 'Layout',\n    data() {\n      return { oldLayout: '' }\n    },\n    computed: {\n      ...mapGetters({\n        layout: 'settings/layout',\n        tabsBar: 'settings/tabsBar',\n        collapse: 'settings/collapse',\n        header: 'settings/header',\n        device: 'settings/device',\n      }),\n      classObj() {\n        return {\n          mobile: this.device === 'mobile',\n        }\n      },\n    },\n    beforeMount() {\n      window.addEventListener('resize', this.handleResize)\n    },\n    beforeDestroy() {\n      window.removeEventListener('resize', this.handleResize)\n    },\n    mounted() {\n      this.oldLayout = this.layout\n      const userAgent = navigator.userAgent\n      if (userAgent.includes('Juejin')) {\n        this.$baseAlert(\n          'vue-admin-beautiful不支持在掘金内置浏览器演示，请手动复制以下地址到浏览器中查看http://mpfhrd48.sanxing.uz7.cn/vue-admin-beautiful'\n        )\n      }\n      const isMobile = this.handleIsMobile()\n      if (isMobile) {\n        if (isMobile) {\n          //横向布局时如果是手机端访问那么改成纵向版\n          this.$store.dispatch('settings/changeLayout', 'vertical')\n        } else {\n          this.$store.dispatch('settings/changeLayout', this.oldLayout)\n        }\n        this.$store.dispatch('settings/toggleDevice', 'mobile')\n        setTimeout(() => {\n          this.$store.dispatch('settings/foldSideBar')\n        }, 2000)\n      } else {\n        this.$store.dispatch('settings/openSideBar')\n      }\n      this.$nextTick(() => {\n        window.addEventListener(\n          'storage',\n          (e) => {\n            if (e.key === tokenName || e.key === null) window.location.reload()\n            if (e.key === tokenName && e.value === null)\n              window.location.reload()\n          },\n          false\n        )\n      })\n    },\n    methods: {\n      ...mapActions({\n        handleFoldSideBar: 'settings/foldSideBar',\n      }),\n      handleIsMobile() {\n        return document.body.getBoundingClientRect().width - 1 < 992\n      },\n      handleResize() {\n        if (!document.hidden) {\n          const isMobile = this.handleIsMobile()\n          if (isMobile) {\n            //横向布局时如果是手机端访问那么改成纵向版\n            this.$store.dispatch('settings/changeLayout', 'vertical')\n          } else {\n            this.$store.dispatch('settings/changeLayout', this.oldLayout)\n          }\n\n          this.$store.dispatch(\n            'settings/toggleDevice',\n            isMobile ? 'mobile' : 'desktop'\n          )\n        }\n      },\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @mixin fix-header {\n    position: fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    z-index: $base-z-index - 2;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .vue-admin-beautiful-wrapper {\n    position: relative;\n    width: 100%;\n    height: 100%;\n\n    .layout-container-horizontal {\n      position: relative;\n\n      &.fixed {\n        padding-top: calc(#{$base-top-bar-height} + #{$base-tabs-bar-height});\n      }\n\n      &.fixed.no-tabs-bar {\n        padding-top: $base-top-bar-height;\n      }\n\n      ::v-deep {\n        .vab-main {\n          width: 88%;\n          margin: auto;\n        }\n\n        .fixed-header {\n          @include fix-header;\n        }\n\n        .tag-view-show {\n          background: $base-color-white;\n          box-shadow: $base-box-shadow;\n        }\n\n        .nav-bar-container {\n          .fold-unfold {\n            display: none;\n          }\n        }\n\n        .main-padding {\n          .app-main-container {\n            margin-top: $base-padding;\n            margin-bottom: $base-padding;\n            background: $base-color-white;\n          }\n        }\n      }\n    }\n\n    .layout-container-vertical {\n      position: relative;\n\n      .mask {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: $base-z-index - 1;\n        width: 100%;\n        height: 100vh;\n        overflow: hidden;\n        background: #000;\n        opacity: 0.5;\n      }\n\n      &.fixed {\n        padding-top: calc(#{$base-nav-bar-height} + #{$base-tabs-bar-height});\n      }\n\n      &.fixed.no-tabs-bar {\n        padding-top: $base-nav-bar-height;\n      }\n\n      .vab-main {\n        position: relative;\n        min-height: 100%;\n        margin-left: $base-left-menu-width;\n        background: #f6f8f9;\n        transition: $base-transition;\n\n        ::v-deep {\n          .fixed-header {\n            @include fix-header;\n\n            left: $base-left-menu-width;\n            width: $base-right-content-width;\n            box-shadow: $base-box-shadow;\n            transition: $base-transition;\n          }\n\n          .nav-bar-container {\n            position: relative;\n            box-sizing: border-box;\n          }\n\n          .tabs-bar-container {\n            box-sizing: border-box;\n          }\n\n          .app-main-container {\n            width: calc(100% - #{$base-padding} - #{$base-padding});\n            margin: $base-padding auto;\n            background: $base-color-white;\n            border-radius: $base-border-radius;\n          }\n        }\n\n        &.is-collapse-main {\n          margin-left: $base-left-menu-width-min;\n\n          ::v-deep {\n            .fixed-header {\n              left: $base-left-menu-width-min;\n              width: calc(100% - 65px);\n            }\n          }\n        }\n      }\n    }\n\n    /* 手机端开始 */\n    &.mobile {\n      ::v-deep {\n        .el-pager,\n        .el-pagination__jump {\n          display: none;\n        }\n\n        .layout-container-vertical {\n          .el-scrollbar.side-bar-container.is-collapse {\n            width: 0;\n          }\n\n          .vab-main {\n            width: 100%;\n            margin-left: 0;\n          }\n        }\n\n        .vab-main {\n          .fixed-header {\n            left: 0 !important;\n            width: 100% !important;\n          }\n        }\n      }\n    }\n\n    /* 手机端结束 */\n  }\n</style>\n"],"sourceRoot":"src/layouts"}]}