{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\vue-admin-beautiful-test\\src\\views\\vab\\permissions\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\views\\vab\\permissions\\index.vue","mtime":1638330357778},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZmlsZS92dWUtYWRtaW4tYmVhdXRpZnVsLXRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9zb2Z0d2FyZS9maWxlL3Z1ZS1hZG1pbi1iZWF1dGlmdWwtdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdG9rZW5UYWJsZU5hbWUgfSBmcm9tICdAL2NvbmZpZyc7CmltcG9ydCB7IGdldFJvdXRlckxpc3QgfSBmcm9tICdAL2FwaS9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Blcm1pc3Npb25zJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIGFjY291bnQ6ICcnCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHJlczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICB1c2VybmFtZTogJ3VzZXIvdXNlcm5hbWUnLAogICAgcGVybWlzc2lvbnM6ICd1c2VyL3Blcm1pc3Npb25zJwogIH0pKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZvcm0uYWNjb3VudCA9IHRoaXMudXNlcm5hbWU7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDaGFuZ2VQZXJtaXNzaW9uOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VQZXJtaXNzaW9uKCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0b2tlblRhYmxlTmFtZSwgIiIuY29uY2F0KHRoaXMuZm9ybS5hY2NvdW50LCAiLWFjY2Vzc1Rva2VuIikpOwogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRSb3V0ZXJMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLnJlcyA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,cAAA,QAAA,UAAA;AACA,SAAA,aAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OADA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,GAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,QAAA,EAAA,eADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAAA,CADA,CAXA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,SAAA,SAAA;AACA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,IAAA,CAAA,OAAA,GAAA,KAAA,QAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,cAAA,YAAA,KAAA,IAAA,CAAA,OAAA;AACA,MAAA,QAAA,CAAA,MAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,aAAA,EADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,GAAA,GAAA,GAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AATA;AAvBA,CAAA","sourcesContent":["<template>\n  <div class=\"permissions-container\">\n    <el-divider content-position=\"left\">\n      intelligence模式,前端根据permissions拦截路由(演示环境,默认使用此方案)\n    </el-divider>\n\n    <el-form ref=\"form\" :model=\"form\" :inline=\"true\">\n      <el-form-item label=\"切换账号\">\n        <el-radio-group v-model=\"form.account\">\n          <el-radio label=\"admin\">admin</el-radio>\n          <el-radio label=\"editor\">editor</el-radio>\n          <el-radio label=\"test\">test</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"handleChangePermission\">\n          切换权限\n        </el-button>\n      </el-form-item>\n      <el-form-item label=\"当前账号拥有的权限\">\n        {{ JSON.stringify(permissions) }}\n      </el-form-item>\n    </el-form>\n    <el-divider content-position=\"left\">按钮级权限演示</el-divider>\n    <el-button v-permissions=\"['admin']\" type=\"primary\">\n      我是拥有[\"admin\"]权限的按钮\n    </el-button>\n    <el-button v-permissions=\"['editor']\" type=\"primary\">\n      我是拥有[\"editor\"]权限的按钮\n    </el-button>\n    <el-button v-permissions=\"['test']\" type=\"primary\">\n      我是拥有[\"test\"]权限的按钮\n    </el-button>\n    <br />\n    <br />\n    <el-divider content-position=\"left\">\n      all模式,路由以及view文件引入全部交给后端(权限复杂,且随时变更,建议使用此方案)\n    </el-divider>\n    <p>\n      settings.js配置authentication为all即可完全交由后端控制,mock中有后端接口示例,权限繁琐,有几十种权限的项目直接用这种,\n      由于演示环境是mock数据模拟,可能无法展现此功能的配置,只做如下展示,便于您的理解\n    </p>\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n        <el-table\n          :data=\"tableData\"\n          row-key=\"path\"\n          border\n          default-expand-all\n          :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n        >\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"name\"\n            label=\"name\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"path\"\n            label=\"path\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"component\"\n            label=\"component\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"redirect\"\n            label=\"redirect\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"meta.title\"\n            label=\"标题\"\n          ></el-table-column>\n          <el-table-column show-overflow-tooltip label=\"图标\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                <vab-icon\n                  v-if=\"row.meta.icon\"\n                  :icon=\"['fas', row.meta.icon]\"\n                ></vab-icon>\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否固定\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.affix }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否无缓存\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.noKeepAlive }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"badge\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.badge }}\n              </span>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import { tokenTableName } from '@/config'\n  import { getRouterList } from '@/api/router'\n\n  export default {\n    name: 'Permissions',\n    data() {\n      return {\n        form: {\n          account: '',\n        },\n        tableData: [],\n        res: [],\n      }\n    },\n    computed: {\n      ...mapGetters({\n        username: 'user/username',\n        permissions: 'user/permissions',\n      }),\n    },\n    created() {\n      this.fetchData()\n    },\n    mounted() {\n      this.form.account = this.username\n    },\n    methods: {\n      handleChangePermission() {\n        localStorage.setItem(tokenTableName, `${this.form.account}-accessToken`)\n        location.reload()\n      },\n      async fetchData() {\n        const res = await getRouterList()\n        this.tableData = res.data\n        this.res = res\n      },\n    },\n  }\n</script>\n"],"sourceRoot":"src/views/vab/permissions"}]}