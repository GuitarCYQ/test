{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\software\\file\\vue-admin-beautiful-test\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\store\\modules\\user.js","mtime":1638330357436},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZmlsZS92dWUtYWRtaW4tYmVhdXRpZnVsLXRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKLyoqCiAqIEBhdXRob3IgY2h1emhpeGluIDEyMDQ1MDUwNTZAcXEuY29tIO+8iOS4jeaDs+S/neeVmWF1dGhvcuWPr+WIoOmZpO+8iQogKiBAZGVzY3JpcHRpb24g55m75b2V44CB6I635Y+W55So5oi35L+h5oGv44CB6YCA5Ye655m75b2V44CB5riF6ZmkYWNjZXNzVG9rZW7pgLvovpHvvIzkuI3lu7rorq7kv67mlLkKICovCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0VXNlckluZm8gYXMgX2dldFVzZXJJbmZvLCBsb2dpbiBhcyBfbG9naW4sIGxvZ291dCBhcyBfbG9nb3V0IH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGdldEFjY2Vzc1Rva2VuLCByZW1vdmVBY2Nlc3NUb2tlbiwgc2V0QWNjZXNzVG9rZW4gYXMgX3NldEFjY2Vzc1Rva2VuIH0gZnJvbSAnQC91dGlscy9hY2Nlc3NUb2tlbic7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyB0aXRsZSwgdG9rZW5OYW1lIH0gZnJvbSAnQC9jb25maWcnOwoKdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIGFjY2Vzc1Rva2VuOiBnZXRBY2Nlc3NUb2tlbigpLAogICAgdXNlcm5hbWU6ICcnLAogICAgYXZhdGFyOiAnJywKICAgIHBlcm1pc3Npb25zOiBbXQogIH07Cn07Cgp2YXIgZ2V0dGVycyA9IHsKICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5hY2Nlc3NUb2tlbjsKICB9LAogIHVzZXJuYW1lOiBmdW5jdGlvbiB1c2VybmFtZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJuYW1lOwogIH0sCiAgYXZhdGFyOiBmdW5jdGlvbiBhdmF0YXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5hdmF0YXI7CiAgfSwKICBwZXJtaXNzaW9uczogZnVuY3Rpb24gcGVybWlzc2lvbnMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wZXJtaXNzaW9uczsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0QWNjZXNzVG9rZW46IGZ1bmN0aW9uIHNldEFjY2Vzc1Rva2VuKHN0YXRlLCBhY2Nlc3NUb2tlbikgewogICAgc3RhdGUuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjsKCiAgICBfc2V0QWNjZXNzVG9rZW4oYWNjZXNzVG9rZW4pOwogIH0sCiAgc2V0VXNlcm5hbWU6IGZ1bmN0aW9uIHNldFVzZXJuYW1lKHN0YXRlLCB1c2VybmFtZSkgewogICAgc3RhdGUudXNlcm5hbWUgPSB1c2VybmFtZTsKICB9LAogIHNldEF2YXRhcjogZnVuY3Rpb24gc2V0QXZhdGFyKHN0YXRlLCBhdmF0YXIpIHsKICAgIHN0YXRlLmF2YXRhciA9IGF2YXRhcjsKICB9LAogIHNldFBlcm1pc3Npb25zOiBmdW5jdGlvbiBzZXRQZXJtaXNzaW9ucyhzdGF0ZSwgcGVybWlzc2lvbnMpIHsKICAgIHN0YXRlLnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBzZXRQZXJtaXNzaW9uczogZnVuY3Rpb24gc2V0UGVybWlzc2lvbnMoX3JlZiwgcGVybWlzc2lvbnMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIGNvbW1pdCgnc2V0UGVybWlzc2lvbnMnLCBwZXJtaXNzaW9ucyk7CiAgfSwKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZjIsIHVzZXJJbmZvKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCBfeWllbGQkX2xvZ2luLCBkYXRhLCBhY2Nlc3NUb2tlbiwgaG91ciwgdGhpc1RpbWU7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfbG9naW4odXNlckluZm8pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF95aWVsZCRfbG9naW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX2xvZ2luLmRhdGE7CiAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBkYXRhW3Rva2VuTmFtZV07CgogICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbikgewogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBY2Nlc3NUb2tlbicsIGFjY2Vzc1Rva2VuKTsKICAgICAgICAgICAgICAgIGhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7CiAgICAgICAgICAgICAgICB0aGlzVGltZSA9IGhvdXIgPCA4ID8gJ+aXqeS4iuWlvScgOiBob3VyIDw9IDExID8gJ+S4iuWNiOWlvScgOiBob3VyIDw9IDEzID8gJ+S4reWNiOWlvScgOiBob3VyIDwgMTggPyAn5LiL5Y2I5aW9JyA6ICfmmZrkuIrlpb0nOwogICAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kYmFzZU5vdGlmeSgiXHU2QjIyXHU4RkNFXHU3NjdCXHU1RjU1Ii5jb25jYXQodGl0bGUpLCAiIi5jb25jYXQodGhpc1RpbWUsICJcdUZGMDEiKSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJGJhc2VNZXNzYWdlKCJcdTc2N0JcdTVGNTVcdTYzQTVcdTUzRTNcdTVGMDJcdTVFMzhcdUZGMENcdTY3MkFcdTZCNjNcdTc4NkVcdThGRDRcdTU2REUiLmNvbmNhdCh0b2tlbk5hbWUsICIuLi4iKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWYzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIF95aWVsZCRfZ2V0VXNlckluZm8sIGRhdGEsIHBlcm1pc3Npb25zLCB1c2VybmFtZSwgYXZhdGFyOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQsIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlckluZm8oc3RhdGUuYWNjZXNzVG9rZW4pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF95aWVsZCRfZ2V0VXNlckluZm8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF9nZXRVc2VySW5mby5kYXRhOwoKICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBWdWUucHJvdG90eXBlLiRiYXNlTWVzc2FnZSgn6aqM6K+B5aSx6LSl77yM6K+36YeN5paw55m75b2VLi4uJywgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IGRhdGEucGVybWlzc2lvbnMsIHVzZXJuYW1lID0gZGF0YS51c2VybmFtZSwgYXZhdGFyID0gZGF0YS5hdmF0YXI7CgogICAgICAgICAgICAgIGlmICghKHBlcm1pc3Npb25zICYmIHVzZXJuYW1lICYmIEFycmF5LmlzQXJyYXkocGVybWlzc2lvbnMpKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29tbWl0KCdzZXRQZXJtaXNzaW9ucycsIHBlcm1pc3Npb25zKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldFVzZXJuYW1lJywgdXNlcm5hbWUpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0QXZhdGFyJywgYXZhdGFyKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcGVybWlzc2lvbnMpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBWdWUucHJvdG90eXBlLiRiYXNlTWVzc2FnZSgn55So5oi35L+h5oGv5o6l5Y+j5byC5bi4JywgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGRpc3BhdGNoOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfbG9nb3V0KHN0YXRlLmFjY2Vzc1Rva2VuKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdyZXNldEFjY2Vzc1Rva2VuJyk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiByZXNldFJvdXRlcigpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICByZXNldEFjY2Vzc1Rva2VuOiBmdW5jdGlvbiByZXNldEFjY2Vzc1Rva2VuKF9yZWY1KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgY29tbWl0KCdzZXRQZXJtaXNzaW9ucycsIFtdKTsKICAgIGNvbW1pdCgnc2V0QWNjZXNzVG9rZW4nLCAnJyk7CiAgICByZW1vdmVBY2Nlc3NUb2tlbigpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["D:/software/file/vue-admin-beautiful-test/src/store/modules/user.js"],"names":["Vue","getUserInfo","login","logout","getAccessToken","removeAccessToken","setAccessToken","resetRouter","title","tokenName","state","accessToken","username","avatar","permissions","getters","mutations","setUsername","setAvatar","setPermissions","actions","commit","userInfo","data","hour","Date","getHours","thisTime","prototype","$baseNotify","$baseMessage","Array","isArray","dispatch","resetAccessToken"],"mappings":"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","sourcesContent":["/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description 登录、获取用户信息、退出登录、清除accessToken逻辑，不建议修改\n */\n\nimport Vue from 'vue'\nimport { getUserInfo, login, logout } from '@/api/user'\nimport {\n  getAccessToken,\n  removeAccessToken,\n  setAccessToken,\n} from '@/utils/accessToken'\nimport { resetRouter } from '@/router'\nimport { title, tokenName } from '@/config'\n\nconst state = () => ({\n  accessToken: getAccessToken(),\n  username: '',\n  avatar: '',\n  permissions: [],\n})\nconst getters = {\n  accessToken: (state) => state.accessToken,\n  username: (state) => state.username,\n  avatar: (state) => state.avatar,\n  permissions: (state) => state.permissions,\n}\nconst mutations = {\n  setAccessToken(state, accessToken) {\n    state.accessToken = accessToken\n    setAccessToken(accessToken)\n  },\n  setUsername(state, username) {\n    state.username = username\n  },\n  setAvatar(state, avatar) {\n    state.avatar = avatar\n  },\n  setPermissions(state, permissions) {\n    state.permissions = permissions\n  },\n}\nconst actions = {\n  setPermissions({ commit }, permissions) {\n    commit('setPermissions', permissions)\n  },\n  async login({ commit }, userInfo) {\n    const { data } = await login(userInfo)\n    const accessToken = data[tokenName]\n    if (accessToken) {\n      commit('setAccessToken', accessToken)\n      const hour = new Date().getHours()\n      const thisTime =\n        hour < 8\n          ? '早上好'\n          : hour <= 11\n          ? '上午好'\n          : hour <= 13\n          ? '中午好'\n          : hour < 18\n          ? '下午好'\n          : '晚上好'\n      Vue.prototype.$baseNotify(`欢迎登录${title}`, `${thisTime}！`)\n    } else {\n      Vue.prototype.$baseMessage(\n        `登录接口异常，未正确返回${tokenName}...`,\n        'error'\n      )\n    }\n  },\n  async getUserInfo({ commit, state }) {\n    const { data } = await getUserInfo(state.accessToken)\n    if (!data) {\n      Vue.prototype.$baseMessage('验证失败，请重新登录...', 'error')\n      return false\n    }\n    let { permissions, username, avatar } = data\n    if (permissions && username && Array.isArray(permissions)) {\n      commit('setPermissions', permissions)\n      commit('setUsername', username)\n      commit('setAvatar', avatar)\n      return permissions\n    } else {\n      Vue.prototype.$baseMessage('用户信息接口异常', 'error')\n      return false\n    }\n  },\n  async logout({ dispatch }) {\n    await logout(state.accessToken)\n    await dispatch('resetAccessToken')\n    await resetRouter()\n  },\n  resetAccessToken({ commit }) {\n    commit('setPermissions', [])\n    commit('setAccessToken', '')\n    removeAccessToken()\n  },\n}\nexport default { state, getters, mutations, actions }\n"]}]}