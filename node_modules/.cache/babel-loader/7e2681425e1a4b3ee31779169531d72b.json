{"remainingRequest":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\components\\VabUpload\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\components\\VabUpload\\index.vue","mtime":1638330357249},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGJhc2VVUkwsIHRva2VuTmFtZSB9IGZyb20gJ0AvY29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWYWJVcGxvYWQnLAogIHByb3BzOiB7CiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnL3VwbG9hZCcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdmaWxlJywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBsaW1pdDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUwLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ0ltYWdlVXJsOiAnJywKICAgICAgYWN0aW9uOiAnaHR0cHM6Ly92YWItdW5pY2xvdWQtM2E5ZGE5LnNlcnZpY2UudGNsb3VkYmFzZS5jb20vdXBsb2FkJywKICAgICAgaGVhZGVyczoge30sCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgcGljdHVyZTogJ3BpY3R1cmUnLAogICAgICBpbWdOdW06IDAsCiAgICAgIGltZ1N1Y2Nlc3NOdW06IDAsCiAgICAgIGltZ0Vycm9yTnVtOiAwLAogICAgICB0eXBlTGlzdDogbnVsbCwKICAgICAgdGl0bGU6ICfkuIrkvKAnLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGRhdGE6IHt9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBlcmNlbnRhZ2U6IGZ1bmN0aW9uIHBlcmNlbnRhZ2UoKSB7CiAgICAgIGlmICh0aGlzLmFsbEltZ051bSA9PSAwKSByZXR1cm4gMDsKICAgICAgcmV0dXJuIHRoaXMuJGJhc2VMb2Rhc2gucm91bmQodGhpcy5pbWdOdW0gLyB0aGlzLmFsbEltZ051bSwgMikgKiAxMDA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRVcGxvYWQ6IGZ1bmN0aW9uIHN1Ym1pdFVwbG9hZCgpIHsKICAgICAgdGhpcy4kcmVmcy51cGxvYWQuc3VibWl0KCk7CiAgICB9LAogICAgaGFuZGxlUHJvZ3Jlc3M6IGZ1bmN0aW9uIGhhbmRsZVByb2dyZXNzKGV2ZW50LCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGlmIChmaWxlLnNpemUgPiAxMDQ4NTc2ICogdGhpcy5zaXplKSB7CiAgICAgICAgZmlsZUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaWYgKGl0ZW0gPT09IGZpbGUpIHsKICAgICAgICAgICAgZmlsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGxJbWdOdW0gPSBmaWxlTGlzdC5sZW5ndGg7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pbWdOdW0gPSB0aGlzLmltZ051bSArIDE7CiAgICAgIHRoaXMuaW1nU3VjY2Vzc051bSA9IHRoaXMuaW1nU3VjY2Vzc051bSArIDE7CgogICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID09PSB0aGlzLmltZ051bSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuJGJhc2VNZXNzYWdlKCJcdTRFMEFcdTRGMjBcdTVCOENcdTYyMTAhIFx1NTE3MVx1NEUwQVx1NEYyMCIuY29uY2F0KGZpbGVMaXN0Lmxlbmd0aCwgIlx1NUYyMFx1NTZGRVx1NzI0NyIpLCAnc3VjY2VzcycpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMuc2hvdyA9IGZhbHNlOwogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuaW1nTnVtID0gdGhpcy5pbWdOdW0gKyAxOwogICAgICB0aGlzLmltZ0Vycm9yTnVtID0gdGhpcy5pbWdFcnJvck51bSArIDE7CiAgICAgIHRoaXMuJGJhc2VNZXNzYWdlKCJcdTY1ODdcdTRFRjZbIi5jb25jYXQoZmlsZS5yYXcubmFtZSwgIl1cdTRFMEFcdTRGMjBcdTU5MzFcdThEMjUsXHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGXHU0RTNBIikuY29uY2F0KHRoaXMuJGJhc2VMb2Rhc2gucm91bmQoZmlsZS5yYXcuc2l6ZSAvIDEwMjQsIDApLCAiS0IiKSwgJ2Vycm9yJyk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLnNob3cgPSBmYWxzZTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5pbWdOdW0gPSB0aGlzLmltZ051bSAtIDE7CiAgICAgIHRoaXMuYWxsTnVtID0gdGhpcy5hbGxOdW0gLSAxOwogICAgfSwKICAgIGhhbmRsZVByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZVByZXZpZXcoZmlsZSkgewogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlRXhjZWVkOiBmdW5jdGlvbiBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJGJhc2VNZXNzYWdlKCJcdTVGNTNcdTUyNERcdTk2NTBcdTUyMzZcdTkwMDlcdTYyRTkgIi5jb25jYXQodGhpcy5saW1pdCwgIiBcdTRFMkFcdTY1ODdcdTRFRjZcdUZGMENcdTY3MkNcdTZCMjFcdTkwMDlcdTYyRTlcdTRFODZcbiAgICAgICAgICAgIikuY29uY2F0KGZpbGVzLmxlbmd0aCwgIlxuICAgICAgICAgICBcdTRFMkFcdTY1ODdcdTRFRjYiKSwgJ2Vycm9yJyk7CiAgICB9LAogICAgaGFuZGxlU2hvdzogZnVuY3Rpb24gaGFuZGxlU2hvdyhkYXRhKSB7CiAgICAgIHRoaXMudGl0bGUgPSAn5LiK5LygJzsKICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICAgIHRoaXMucGljdHVyZSA9ICdwaWN0dXJlJzsKICAgICAgdGhpcy5hbGxJbWdOdW0gPSAwOwogICAgICB0aGlzLmltZ051bSA9IDA7CiAgICAgIHRoaXMuaW1nU3VjY2Vzc051bSA9IDA7CiAgICAgIHRoaXMuaW1nRXJyb3JOdW0gPSAwOwogICAgICAvKiBpZiAoImRldmVsb3BtZW50IiA9PT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHsKICAgICAgICB0aGlzLmFwaSA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hcGkgPSBgJHt3aW5kb3cubG9jYXRpb24ucHJvdG9jb2x9Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7CiAgICAgIH0KICAgICAgIHRoaXMuYWN0aW9uID0gdGhpcy5hcGkgKyB0aGlzLnVybDsgKi8KCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,SAAA,OAAA,EAAA,SAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,SAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KADA;AAMA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,MAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KANA;AAWA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAXA;AAgBA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,CAFA;AAGA,MAAA,QAAA,EAAA;AAHA;AAhBA,GAFA;AAwBA,EAAA,IAxBA,kBAwBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,cAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA,2DALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,OAAA,EAAA,SARA;AASA,MAAA,MAAA,EAAA,CATA;AAUA,MAAA,aAAA,EAAA,CAVA;AAWA,MAAA,WAAA,EAAA,CAXA;AAYA,MAAA,QAAA,EAAA,IAZA;AAaA,MAAA,KAAA,EAAA,IAbA;AAcA,MAAA,iBAAA,EAAA,KAdA;AAeA,MAAA,IAAA,EAAA;AAfA,KAAA;AAiBA,GA1CA;AA2CA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,SAAA,IAAA,CAAA,EAAA,OAAA,CAAA;AACA,aAAA,KAAA,WAAA,CAAA,KAAA,CAAA,KAAA,MAAA,GAAA,KAAA,SAAA,EAAA,CAAA,IAAA,GAAA;AACA;AAJA,GA3CA;AAiDA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,KAJA,EAIA,IAJA,EAIA,QAJA,EAIA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAPA;AAQA,IAAA,YARA,wBAQA,IARA,EAQA,QARA,EAQA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,UAAA,KAAA,IAAA,EAAA;AACA,QAAA,QAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,cAAA,IAAA,KAAA,IAAA,EAAA;AACA,YAAA,QAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACA,SAJA;AAKA,aAAA,QAAA,GAAA,QAAA;AACA,OAPA,MAOA;AACA,aAAA,SAAA,GAAA,QAAA,CAAA,MAAA;AACA;AACA,KAnBA;AAoBA,IAAA,aApBA,yBAoBA,QApBA,EAoBA,IApBA,EAoBA,QApBA,EAoBA;AAAA;;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,WAAA,aAAA,GAAA,KAAA,aAAA,GAAA,CAAA;;AACA,UAAA,QAAA,CAAA,MAAA,KAAA,KAAA,MAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,YAAA,uDACA,QAAA,CAAA,MADA,yBAEA,SAFA;AAIA,SALA,EAKA,IALA,CAAA;AAMA;;AAEA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,KAAA;AACA,OAHA,EAGA,IAHA,CAAA;AAIA,KApCA;AAqCA,IAAA,WArCA,uBAqCA,GArCA,EAqCA,IArCA,EAqCA,QArCA,EAqCA;AAAA;;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA,WAAA,GAAA,CAAA;AACA,WAAA,YAAA,wBACA,IAAA,CAAA,GAAA,CAAA,IADA,qEACA,KAAA,WAAA,CAAA,KAAA,CACA,IAAA,CAAA,GAAA,CAAA,IAAA,GAAA,IADA,EAEA,CAFA,CADA,SAKA,OALA;AAOA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,KAAA;AACA,OAHA,EAGA,IAHA,CAAA;AAIA,KAnDA;AAoDA,IAAA,YApDA,wBAoDA,IApDA,EAoDA,QApDA,EAoDA;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,KAvDA;AAwDA,IAAA,aAxDA,yBAwDA,IAxDA,EAwDA;AACA,WAAA,cAAA,GAAA,IAAA,CAAA,GAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KA3DA;AA4DA,IAAA,YA5DA,wBA4DA,KA5DA,EA4DA,QA5DA,EA4DA;AACA,WAAA,YAAA,gDACA,KAAA,KADA,iFAEA,KAAA,CAAA,MAFA,sCAIA,OAJA;AAMA,KAnEA;AAoEA,IAAA,UApEA,sBAoEA,IApEA,EAoEA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,KAxEA;AAyEA,IAAA,WAzEA,yBAyEA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,SAAA;AACA,WAAA,SAAA,GAAA,CAAA;AACA,WAAA,MAAA,GAAA,CAAA;AACA,WAAA,aAAA,GAAA,CAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA;AACA;AACA;AACA;AACA;;;AAGA,WAAA,iBAAA,GAAA,KAAA;AACA;AAxFA;AAjDA,CAAA","sourcesContent":["<template>\n  <el-dialog\n    :before-close=\"handleClose\"\n    :close-on-click-modal=\"false\"\n    :title=\"title\"\n    :visible.sync=\"dialogFormVisible\"\n    width=\"909px\"\n  >\n    <div class=\"upload\">\n      <el-alert\n        :closable=\"false\"\n        :title=\"`支持jpg、jpeg、png格式，单次可最多选择${limit}张图片，每张不可大于${size}M，如果大于${size}M会自动为您过滤`\"\n        type=\"info\"\n      ></el-alert>\n      <br />\n      <el-upload\n        ref=\"upload\"\n        :action=\"action\"\n        :auto-upload=\"false\"\n        :close-on-click-modal=\"false\"\n        :data=\"data\"\n        :file-list=\"fileList\"\n        :headers=\"headers\"\n        :limit=\"limit\"\n        :multiple=\"true\"\n        :name=\"name\"\n        :on-change=\"handleChange\"\n        :on-error=\"handleError\"\n        :on-exceed=\"handleExceed\"\n        :on-preview=\"handlePreview\"\n        :on-progress=\"handleProgress\"\n        :on-remove=\"handleRemove\"\n        :on-success=\"handleSuccess\"\n        accept=\"image/png, image/jpeg\"\n        class=\"upload-content\"\n        list-type=\"picture-card\"\n      >\n        <i slot=\"trigger\" class=\"el-icon-plus\"></i>\n        <el-dialog\n          :visible.sync=\"dialogVisible\"\n          append-to-body\n          title=\"查看大图\"\n        >\n          <div>\n            <img :src=\"dialogImageUrl\" alt=\"\" width=\"100%\" />\n          </div>\n        </el-dialog>\n      </el-upload>\n    </div>\n    <div\n      slot=\"footer\"\n      class=\"dialog-footer\"\n      style=\"position: relative; padding-right: 15px; text-align: right\"\n    >\n      <div\n        v-if=\"show\"\n        style=\"position: absolute; top: 10px; left: 15px; color: #999\"\n      >\n        正在上传中... 当前上传成功数:{{ imgSuccessNum }}张 当前上传失败数:{{\n          imgErrorNum\n        }}张\n      </div>\n      <el-button type=\"primary\" @click=\"handleClose\">关闭</el-button>\n      <el-button\n        :loading=\"loading\"\n        size=\"small\"\n        style=\"margin-left: 10px\"\n        type=\"success\"\n        @click=\"submitUpload\"\n      >\n        开始上传\n      </el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n  import { baseURL, tokenName } from '@/config'\n\n  export default {\n    name: 'VabUpload',\n    props: {\n      url: {\n        type: String,\n        default: '/upload',\n        required: true,\n      },\n      name: {\n        type: String,\n        default: 'file',\n        required: true,\n      },\n      limit: {\n        type: Number,\n        default: 50,\n        required: true,\n      },\n      size: {\n        type: Number,\n        default: 1,\n        required: true,\n      },\n    },\n    data() {\n      return {\n        show: false,\n        loading: false,\n        dialogVisible: false,\n        dialogImageUrl: '',\n        action: 'https://vab-unicloud-3a9da9.service.tcloudbase.com/upload',\n        headers: {},\n        fileList: [],\n        picture: 'picture',\n        imgNum: 0,\n        imgSuccessNum: 0,\n        imgErrorNum: 0,\n        typeList: null,\n        title: '上传',\n        dialogFormVisible: false,\n        data: {},\n      }\n    },\n    computed: {\n      percentage() {\n        if (this.allImgNum == 0) return 0\n        return this.$baseLodash.round(this.imgNum / this.allImgNum, 2) * 100\n      },\n    },\n    methods: {\n      submitUpload() {\n        this.$refs.upload.submit()\n      },\n      handleProgress(event, file, fileList) {\n        this.loading = true\n        this.show = true\n      },\n      handleChange(file, fileList) {\n        if (file.size > 1048576 * this.size) {\n          fileList.map((item, index) => {\n            if (item === file) {\n              fileList.splice(index, 1)\n            }\n          })\n          this.fileList = fileList\n        } else {\n          this.allImgNum = fileList.length\n        }\n      },\n      handleSuccess(response, file, fileList) {\n        this.imgNum = this.imgNum + 1\n        this.imgSuccessNum = this.imgSuccessNum + 1\n        if (fileList.length === this.imgNum) {\n          setTimeout(() => {\n            this.$baseMessage(\n              `上传完成! 共上传${fileList.length}张图片`,\n              'success'\n            )\n          }, 1000)\n        }\n\n        setTimeout(() => {\n          this.loading = false\n          this.show = false\n        }, 1000)\n      },\n      handleError(err, file, fileList) {\n        this.imgNum = this.imgNum + 1\n        this.imgErrorNum = this.imgErrorNum + 1\n        this.$baseMessage(\n          `文件[${file.raw.name}]上传失败,文件大小为${this.$baseLodash.round(\n            file.raw.size / 1024,\n            0\n          )}KB`,\n          'error'\n        )\n        setTimeout(() => {\n          this.loading = false\n          this.show = false\n        }, 1000)\n      },\n      handleRemove(file, fileList) {\n        this.imgNum = this.imgNum - 1\n        this.allNum = this.allNum - 1\n      },\n      handlePreview(file) {\n        this.dialogImageUrl = file.url\n        this.dialogVisible = true\n      },\n      handleExceed(files, fileList) {\n        this.$baseMessage(\n          `当前限制选择 ${this.limit} 个文件，本次选择了\n             ${files.length}\n             个文件`,\n          'error'\n        )\n      },\n      handleShow(data) {\n        this.title = '上传'\n        this.data = data\n        this.dialogFormVisible = true\n      },\n      handleClose() {\n        this.fileList = []\n        this.picture = 'picture'\n        this.allImgNum = 0\n        this.imgNum = 0\n        this.imgSuccessNum = 0\n        this.imgErrorNum = 0\n        /* if (\"development\" === process.env.NODE_ENV) {\n          this.api = process.env.VUE_APP_BASE_API;\n        } else {\n          this.api = `${window.location.protocol}//${window.location.host}`;\n        }\n\n        this.action = this.api + this.url; */\n        this.dialogFormVisible = false\n      },\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .upload {\n    height: 500px;\n\n    .upload-content {\n      .el-upload__tip {\n        display: block;\n        height: 30px;\n        line-height: 30px;\n      }\n\n      ::v-deep {\n        .el-upload--picture-card {\n          width: 128px;\n          height: 128px;\n          margin: 3px 8px 8px 8px;\n          border: 2px dashed #c0ccda;\n        }\n\n        .el-upload-list--picture {\n          margin-bottom: 20px;\n        }\n\n        .el-upload-list--picture-card {\n          .el-upload-list__item {\n            width: 128px;\n            height: 128px;\n            margin: 3px 8px 8px 8px;\n          }\n        }\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/VabUpload"}]}