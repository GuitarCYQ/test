{"remainingRequest":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\test\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\software\\file\\test\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\software\\file\\test\\src\\store\\modules\\user.js","mtime":1638330357436},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZmlsZS90ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKCi8qKgogKiBAYXV0aG9yIGNodXpoaXhpbiAxMjA0NTA1MDU2QHFxLmNvbSDvvIjkuI3mg7Pkv53nlZlhdXRob3Llj6/liKDpmaTvvIkKICogQGRlc2NyaXB0aW9uIOeZu+W9leOAgeiOt+WPlueUqOaIt+S/oeaBr+OAgemAgOWHuueZu+W9leOAgea4hemZpGFjY2Vzc1Rva2Vu6YC76L6R77yM5LiN5bu66K6u5L+u5pS5CiAqLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGdldFVzZXJJbmZvIGFzIF9nZXRVc2VySW5mbywgbG9naW4gYXMgX2xvZ2luLCBsb2dvdXQgYXMgX2xvZ291dCB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBnZXRBY2Nlc3NUb2tlbiwgcmVtb3ZlQWNjZXNzVG9rZW4sIHNldEFjY2Vzc1Rva2VuIGFzIF9zZXRBY2Nlc3NUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYWNjZXNzVG9rZW4nOwppbXBvcnQgeyByZXNldFJvdXRlciB9IGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHsgdGl0bGUsIHRva2VuTmFtZSB9IGZyb20gJ0AvY29uZmlnJzsKCnZhciBzdGF0ZSA9IGZ1bmN0aW9uIHN0YXRlKCkgewogIHJldHVybiB7CiAgICBhY2Nlc3NUb2tlbjogZ2V0QWNjZXNzVG9rZW4oKSwKICAgIHVzZXJuYW1lOiAnJywKICAgIGF2YXRhcjogJycsCiAgICBwZXJtaXNzaW9uczogW10KICB9Owp9OwoKdmFyIGdldHRlcnMgPSB7CiAgYWNjZXNzVG9rZW46IGZ1bmN0aW9uIGFjY2Vzc1Rva2VuKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYWNjZXNzVG9rZW47CiAgfSwKICB1c2VybmFtZTogZnVuY3Rpb24gdXNlcm5hbWUoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VybmFtZTsKICB9LAogIGF2YXRhcjogZnVuY3Rpb24gYXZhdGFyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYXZhdGFyOwogIH0sCiAgcGVybWlzc2lvbnM6IGZ1bmN0aW9uIHBlcm1pc3Npb25zKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucGVybWlzc2lvbnM7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldEFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBzZXRBY2Nlc3NUb2tlbihzdGF0ZSwgYWNjZXNzVG9rZW4pIHsKICAgIHN0YXRlLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47CgogICAgX3NldEFjY2Vzc1Rva2VuKGFjY2Vzc1Rva2VuKTsKICB9LAogIHNldFVzZXJuYW1lOiBmdW5jdGlvbiBzZXRVc2VybmFtZShzdGF0ZSwgdXNlcm5hbWUpIHsKICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgfSwKICBzZXRBdmF0YXI6IGZ1bmN0aW9uIHNldEF2YXRhcihzdGF0ZSwgYXZhdGFyKSB7CiAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgfSwKICBzZXRQZXJtaXNzaW9uczogZnVuY3Rpb24gc2V0UGVybWlzc2lvbnMoc3RhdGUsIHBlcm1pc3Npb25zKSB7CiAgICBzdGF0ZS5wZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgc2V0UGVybWlzc2lvbnM6IGZ1bmN0aW9uIHNldFBlcm1pc3Npb25zKF9yZWYsIHBlcm1pc3Npb25zKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICBjb21taXQoJ3NldFBlcm1pc3Npb25zJywgcGVybWlzc2lvbnMpOwogIH0sCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYyLCB1c2VySW5mbykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgX3lpZWxkJF9sb2dpbiwgZGF0YSwgYWNjZXNzVG9rZW4sIGhvdXIsIHRoaXNUaW1lOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX2xvZ2luKHVzZXJJbmZvKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfeWllbGQkX2xvZ2luID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF9sb2dpbi5kYXRhOwogICAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gZGF0YVt0b2tlbk5hbWVdOwoKICAgICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWNjZXNzVG9rZW4nLCBhY2Nlc3NUb2tlbik7CiAgICAgICAgICAgICAgICBob3VyID0gbmV3IERhdGUoKS5nZXRIb3VycygpOwogICAgICAgICAgICAgICAgdGhpc1RpbWUgPSBob3VyIDwgOCA/ICfml6nkuIrlpb0nIDogaG91ciA8PSAxMSA/ICfkuIrljYjlpb0nIDogaG91ciA8PSAxMyA/ICfkuK3ljYjlpb0nIDogaG91ciA8IDE4ID8gJ+S4i+WNiOWlvScgOiAn5pma5LiK5aW9JzsKICAgICAgICAgICAgICAgIFZ1ZS5wcm90b3R5cGUuJGJhc2VOb3RpZnkoIlx1NkIyMlx1OEZDRVx1NzY3Qlx1NUY1NSIuY29uY2F0KHRpdGxlKSwgIiIuY29uY2F0KHRoaXNUaW1lLCAiXHVGRjAxIikpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBWdWUucHJvdG90eXBlLiRiYXNlTWVzc2FnZSgiXHU3NjdCXHU1RjU1XHU2M0E1XHU1M0UzXHU1RjAyXHU1RTM4XHVGRjBDXHU2NzJBXHU2QjYzXHU3ODZFXHU4RkQ0XHU1NkRFIi5jb25jYXQodG9rZW5OYW1lLCAiLi4uIiksICdlcnJvcicpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhfcmVmMykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCBfeWllbGQkX2dldFVzZXJJbmZvLCBkYXRhLCBwZXJtaXNzaW9ucywgdXNlcm5hbWUsIGF2YXRhcjsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0LCBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX2dldFVzZXJJbmZvKHN0YXRlLmFjY2Vzc1Rva2VuKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfeWllbGQkX2dldFVzZXJJbmZvID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfZ2V0VXNlckluZm8uZGF0YTsKCiAgICAgICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kYmFzZU1lc3NhZ2UoJ+mqjOivgeWksei0pe+8jOivt+mHjeaWsOeZu+W9lS4uLicsICdlcnJvcicpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgcGVybWlzc2lvbnMgPSBkYXRhLnBlcm1pc3Npb25zLCB1c2VybmFtZSA9IGRhdGEudXNlcm5hbWUsIGF2YXRhciA9IGRhdGEuYXZhdGFyOwoKICAgICAgICAgICAgICBpZiAoIShwZXJtaXNzaW9ucyAmJiB1c2VybmFtZSAmJiBBcnJheS5pc0FycmF5KHBlcm1pc3Npb25zKSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbW1pdCgnc2V0UGVybWlzc2lvbnMnLCBwZXJtaXNzaW9ucyk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VybmFtZScsIHVzZXJuYW1lKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEF2YXRhcicsIGF2YXRhcik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHBlcm1pc3Npb25zKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kYmFzZU1lc3NhZ2UoJ+eUqOaIt+S/oeaBr+aOpeWPo+W8guW4uCcsICdlcnJvcicpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWY0LmRpc3BhdGNoOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX2xvZ291dChzdGF0ZS5hY2Nlc3NUb2tlbik7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgncmVzZXRBY2Nlc3NUb2tlbicpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVzZXRSb3V0ZXIoKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgcmVzZXRBY2Nlc3NUb2tlbjogZnVuY3Rpb24gcmVzZXRBY2Nlc3NUb2tlbihfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIGNvbW1pdCgnc2V0UGVybWlzc2lvbnMnLCBbXSk7CiAgICBjb21taXQoJ3NldEFjY2Vzc1Rva2VuJywgJycpOwogICAgcmVtb3ZlQWNjZXNzVG9rZW4oKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["D:/software/file/test/src/store/modules/user.js"],"names":["Vue","getUserInfo","login","logout","getAccessToken","removeAccessToken","setAccessToken","resetRouter","title","tokenName","state","accessToken","username","avatar","permissions","getters","mutations","setUsername","setAvatar","setPermissions","actions","commit","userInfo","data","hour","Date","getHours","thisTime","prototype","$baseNotify","$baseMessage","Array","isArray","dispatch","resetAccessToken"],"mappings":"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","sourcesContent":["/**\n * @author chuzhixin 1204505056@qq.com （不想保留author可删除）\n * @description 登录、获取用户信息、退出登录、清除accessToken逻辑，不建议修改\n */\n\nimport Vue from 'vue'\nimport { getUserInfo, login, logout } from '@/api/user'\nimport {\n  getAccessToken,\n  removeAccessToken,\n  setAccessToken,\n} from '@/utils/accessToken'\nimport { resetRouter } from '@/router'\nimport { title, tokenName } from '@/config'\n\nconst state = () => ({\n  accessToken: getAccessToken(),\n  username: '',\n  avatar: '',\n  permissions: [],\n})\nconst getters = {\n  accessToken: (state) => state.accessToken,\n  username: (state) => state.username,\n  avatar: (state) => state.avatar,\n  permissions: (state) => state.permissions,\n}\nconst mutations = {\n  setAccessToken(state, accessToken) {\n    state.accessToken = accessToken\n    setAccessToken(accessToken)\n  },\n  setUsername(state, username) {\n    state.username = username\n  },\n  setAvatar(state, avatar) {\n    state.avatar = avatar\n  },\n  setPermissions(state, permissions) {\n    state.permissions = permissions\n  },\n}\nconst actions = {\n  setPermissions({ commit }, permissions) {\n    commit('setPermissions', permissions)\n  },\n  async login({ commit }, userInfo) {\n    const { data } = await login(userInfo)\n    const accessToken = data[tokenName]\n    if (accessToken) {\n      commit('setAccessToken', accessToken)\n      const hour = new Date().getHours()\n      const thisTime =\n        hour < 8\n          ? '早上好'\n          : hour <= 11\n          ? '上午好'\n          : hour <= 13\n          ? '中午好'\n          : hour < 18\n          ? '下午好'\n          : '晚上好'\n      Vue.prototype.$baseNotify(`欢迎登录${title}`, `${thisTime}！`)\n    } else {\n      Vue.prototype.$baseMessage(\n        `登录接口异常，未正确返回${tokenName}...`,\n        'error'\n      )\n    }\n  },\n  async getUserInfo({ commit, state }) {\n    const { data } = await getUserInfo(state.accessToken)\n    if (!data) {\n      Vue.prototype.$baseMessage('验证失败，请重新登录...', 'error')\n      return false\n    }\n    let { permissions, username, avatar } = data\n    if (permissions && username && Array.isArray(permissions)) {\n      commit('setPermissions', permissions)\n      commit('setUsername', username)\n      commit('setAvatar', avatar)\n      return permissions\n    } else {\n      Vue.prototype.$baseMessage('用户信息接口异常', 'error')\n      return false\n    }\n  },\n  async logout({ dispatch }) {\n    await logout(state.accessToken)\n    await dispatch('resetAccessToken')\n    await resetRouter()\n  },\n  resetAccessToken({ commit }) {\n    commit('setPermissions', [])\n    commit('setAccessToken', '')\n    removeAccessToken()\n  },\n}\nexport default { state, getters, mutations, actions }\n"]}]}