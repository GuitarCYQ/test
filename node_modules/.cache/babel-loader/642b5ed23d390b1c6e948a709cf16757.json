{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\vue-admin-beautiful-test\\src\\views\\vab\\map\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\views\\vab\\map\\index.vue","mtime":1638330357735},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgKiBhcyBtYXB2IGZyb20gJ21hcHYnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hcCcsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBtYXAgPSBfdGhpcy4kYmFzZU1hcCgpOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL21hcHZAMi4wLjEyL2V4YW1wbGVzL2RhdGEvb2QteGllcnFpLnR4dCcpLnRoZW4oZnVuY3Rpb24gKHJzKSB7CiAgICAgICAgdmFyIGRhdGEgPSBbXTsKICAgICAgICB2YXIgdGltZURhdGEgPSBbXTsKICAgICAgICBycyA9IHJzLmRhdGEuc3BsaXQoJ1xuJyk7CiAgICAgICAgdmFyIG1heExlbmd0aCA9IDA7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBpdGVtID0gcnNbaV0uc3BsaXQoJywnKTsKICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IFtdOwoKICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCA+IG1heExlbmd0aCkgewogICAgICAgICAgICBtYXhMZW5ndGggPSBpdGVtLmxlbmd0aDsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGl0ZW0ubGVuZ3RoOyBqICs9IDIpIHsKICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaXRlbVtqXSkgLyAyMDAzNzUwOC4zNCAqIDE4MDsKICAgICAgICAgICAgdmFyIHkgPSBOdW1iZXIoaXRlbVtqICsgMV0pIC8gMjAwMzc1MDguMzQgKiAxODA7CiAgICAgICAgICAgIHkgPSAxODAgLyBNYXRoLlBJICogKDIgKiBNYXRoLmF0YW4oTWF0aC5leHAoeSAqIE1hdGguUEkgLyAxODApKSAtIE1hdGguUEkgLyAyKTsKCiAgICAgICAgICAgIGlmICh4ID09IDAgfHwgeSA9PSBOYU4pIHsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChbeCwgeV0pOwogICAgICAgICAgICB0aW1lRGF0YS5wdXNoKHsKICAgICAgICAgICAgICBnZW9tZXRyeTogewogICAgICAgICAgICAgICAgdHlwZTogJ1BvaW50JywKICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbeCwgeV0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNvdW50OiAxLAogICAgICAgICAgICAgIHRpbWU6IGoKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgZ2VvbWV0cnk6IHsKICAgICAgICAgICAgICB0eXBlOiAnTGluZVN0cmluZycsCiAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRhdGFTZXQgPSBuZXcgbWFwdi5EYXRhU2V0KGRhdGEpOwogICAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgICAgc3Ryb2tlU3R5bGU6ICdyZ2JhKDUzLDU3LDI1NSwwLjUpJywKICAgICAgICAgIC8vIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogJ2xpZ2h0ZXInLAogICAgICAgICAgc2hhZG93Q29sb3I6ICdyZ2JhKDUzLDU3LDI1NSwwLjIpJywKICAgICAgICAgIHNoYWRvd0JsdXI6IDMsCiAgICAgICAgICBsaW5lV2lkdGg6IDMuMCwKICAgICAgICAgIGRyYXc6ICdzaW1wbGUnCiAgICAgICAgfTsKICAgICAgICB2YXIgbWFwdkxheWVyID0gbmV3IG1hcHYuTWFwdGFsa3NMYXllcignbWFwdjEnLCBkYXRhU2V0LCBvcHRpb25zKS5hZGRUbyhtYXApOwogICAgICAgIHZhciBkYXRhU2V0MiA9IG5ldyBtYXB2LkRhdGFTZXQodGltZURhdGEpOwogICAgICAgIHZhciBvcHRpb25zMiA9IHsKICAgICAgICAgIGZpbGxTdHlsZTogJ3JnYmEoMjU1LCAyNTAsIDI1MCwgMC4yKScsCiAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246ICdsaWdodGVyJywKICAgICAgICAgIHNpemU6IDEuNSwKICAgICAgICAgIGFuaW1hdGlvbjogewogICAgICAgICAgICBzdGVwc1JhbmdlOiB7CiAgICAgICAgICAgICAgc3RhcnQ6IDAsCiAgICAgICAgICAgICAgZW5kOiAxMDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhaWxzOiAzLAogICAgICAgICAgICBkdXJhdGlvbjogNQogICAgICAgICAgfSwKICAgICAgICAgIGRyYXc6ICdzaW1wbGUnCiAgICAgICAgfTsKICAgICAgICB2YXIgbWFwdkxheWVyMiA9IG5ldyBtYXB2Lk1hcHRhbGtzTGF5ZXIoJ21hcHYyJywgZGF0YVNldDIsIG9wdGlvbnMyKS5hZGRUbyhtYXApOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczoge30KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"map-container\">\n    <div id=\"map\" class=\"container\"></div>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import * as mapv from 'mapv'\n  export default {\n    name: 'Map',\n    components: {},\n    data() {\n      return {}\n    },\n    created() {},\n    mounted() {\n      this.$nextTick(() => {\n        const map = this.$baseMap()\n        axios\n          .get(\n            'https://cdn.jsdelivr.net/npm/mapv@2.0.12/examples/data/od-xierqi.txt'\n          )\n          .then((rs) => {\n            let data = []\n            let timeData = []\n\n            rs = rs.data.split('\\n')\n            let maxLength = 0\n            for (let i = 0; i < rs.length; i++) {\n              let item = rs[i].split(',')\n              let coordinates = []\n              if (item.length > maxLength) {\n                maxLength = item.length\n              }\n              for (let j = 0; j < item.length; j += 2) {\n                let x = (Number(item[j]) / 20037508.34) * 180\n                let y = (Number(item[j + 1]) / 20037508.34) * 180\n                y =\n                  (180 / Math.PI) *\n                  (2 * Math.atan(Math.exp((y * Math.PI) / 180)) - Math.PI / 2)\n                if (x == 0 || y == NaN) {\n                  continue\n                }\n                coordinates.push([x, y])\n                timeData.push({\n                  geometry: {\n                    type: 'Point',\n                    coordinates: [x, y],\n                  },\n                  count: 1,\n                  time: j,\n                })\n              }\n              data.push({\n                geometry: {\n                  type: 'LineString',\n                  coordinates: coordinates,\n                },\n              })\n            }\n\n            let dataSet = new mapv.DataSet(data)\n\n            let options = {\n              strokeStyle: 'rgba(53,57,255,0.5)',\n              // globalCompositeOperation: 'lighter',\n              shadowColor: 'rgba(53,57,255,0.2)',\n              shadowBlur: 3,\n              lineWidth: 3.0,\n              draw: 'simple',\n            }\n\n            let mapvLayer = new mapv.MaptalksLayer(\n              'mapv1',\n              dataSet,\n              options\n            ).addTo(map)\n\n            let dataSet2 = new mapv.DataSet(timeData)\n\n            let options2 = {\n              fillStyle: 'rgba(255, 250, 250, 0.2)',\n              globalCompositeOperation: 'lighter',\n              size: 1.5,\n              animation: {\n                stepsRange: {\n                  start: 0,\n                  end: 100,\n                },\n                trails: 3,\n                duration: 5,\n              },\n              draw: 'simple',\n            }\n\n            let mapvLayer2 = new mapv.MaptalksLayer(\n              'mapv2',\n              dataSet2,\n              options2\n            ).addTo(map)\n          })\n      })\n    },\n    methods: {},\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .map-container {\n    .container {\n      width: 100%;\n      height: calc(100vh - 214px);\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/vab/map"}]}