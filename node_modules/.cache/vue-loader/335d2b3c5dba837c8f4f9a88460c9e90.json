{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\zx-magnifie\\components\\magnifie.vue?vue&type=style&index=0&id=0829832a&scoped=true&lang=css&","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\zx-magnifie\\components\\magnifie.vue","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaW1nLWNvbnRhaW5lciB7Cglwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5pbWctc2VsZWN0b3IgewoJcG9zaXRpb246IGFic29sdXRlOwoJY3Vyc29yOiBjcm9zc2hhaXI7Cglib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7CgliYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwoJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpOwp9CgouaW1nLXNlbGVjdG9yLmNpcmNsZSB7Cglib3JkZXItcmFkaXVzOiA1MCU7Cn0KCi5pbWctb3V0LXNob3cgewoJcG9zaXRpb246IGFic29sdXRlOwoJYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKCXRyYW5zZm9ybTogdHJhbnNsYXRlKDEwMCUsIDApOwoJYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpOwp9CgouaW1nLXNlbGVjdG9yLXBvaW50IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXdpZHRoOiA0cHg7CgloZWlnaHQ6IDRweDsKCXRvcDogNTAlOwoJbGVmdDogNTAlOwoJdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CgliYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKfQoKLmltZy1vdXQtc2hvdy5iYXNlLWxpbmU6OmFmdGVyIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCWJveC1zaXppbmc6IGJvcmRlci1ib3g7Cgljb250ZW50OiAnJzsKCXdpZHRoOiAxcHg7Cglib3JkZXI6IDFweCBkYXNoZWQgcmdiYSgwLCAwLCAwLCAwLjM2KTsKCXRvcDogMDsKCWJvdHRvbTogMDsKCWxlZnQ6IDUwJTsKCXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKfQoKLmltZy1vdXQtc2hvdy5iYXNlLWxpbmU6OmJlZm9yZSB7Cglwb3NpdGlvbjogYWJzb2x1dGU7Cglib3gtc2l6aW5nOiBib3JkZXItYm94OwoJY29udGVudDogJyc7CgloZWlnaHQ6IDFweDsKCWJvcmRlcjogMXB4IGRhc2hlZCByZ2JhKDAsIDAsIDAsIDAuMzYpOwoJbGVmdDogMDsKCXJpZ2h0OiAwOwoJdG9wOiA1MCU7Cgl0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7Cn0K"},{"version":3,"sources":["magnifie.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyRA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"magnifie.vue","sourceRoot":"node_modules/zx-magnifie/components","sourcesContent":["<template>\n\t<div class=\"pic-img\">\n\t\t<div class=\"img-container\" @mousemove=\"!moveEvent && mouseMove($event)\" @mouseleave=\"!leaveEvent && mouseLeave($event)\">\n\t\t\t<img ref=\"img\" :src=\"!lazyload ? url : imgLoadedFlag && url\" style=\"width:100%\" @load=\"!lazyload && imgLoaded($event)\" />\n\t\t\t<div\n\t\t\t\tv-if=\"!hideZoom && imgLoadedFlag && !hideSelector\"\n\t\t\t\t:class=\"['img-selector', { circle: type === 'circle' }]\"\n\t\t\t\t:style=\"[imgSelectorStyle, imgSelectorSize, imgSelectorPosition, !outShow && imgBg, !outShow && imgBgSize, !outShow && imgBgPosition]\"\n\t\t\t>\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"outShow\"\n\t\t\t\tv-show=\"!hideOutShow\"\n\t\t\t\t:class=\"['img-out-show', { 'base-line': baseline }]\"\n\t\t\t\t:style=\"[imgOutShowSize, imgOutShowPosition, imgBg, imgBgSize, imgBgPosition]\"\n\t\t\t>\n\t\t\t\t<div v-if=\"pointer\" class=\"img-selector-point\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\nexport default {\n\tprops: {\n\t\turl: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\thighUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 168\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\tdefault: 'circle',\n\t\t\tvalidator: function(value) {\n\t\t\t\treturn ['circle', 'square'].indexOf(value) !== -1;\n\t\t\t}\n\t\t},\n\t\tselectorStyle: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\toutShowStyle: {},\n\t\tscale: {\n\t\t\ttype: Number,\n\t\t\tdefault: 3\n\t\t},\n\t\tlazyload: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tmoveEvent: {\n\t\t\ttype: [Object, MouseEvent],\n\t\t\tdefault: null\n\t\t},\n\t\tleaveEvent: {\n\t\t\ttype: [Object, MouseEvent],\n\t\t\tdefault: null\n\t\t},\n\t\thideZoom: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\toutShow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tpointer: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tbaseline: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselector: {\n\t\t\t\twidth: this.width,\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tbgTop: 0,\n\t\t\t\tbgLeft: 0,\n\t\t\t\trightBound: 0,\n\t\t\t\tbottomBound: 0,\n\t\t\t\tabsoluteLeft: 0,\n\t\t\t\tabsoluteTop: 0\n\t\t\t},\n\t\t\timgInfo: {},\n\t\t\t$img: null,\n\t\t\tscreenWidth: document.body.clientWidth,\n\t\t\toutShowInitTop: 0,\n\t\t\toutShowTop: 0,\n\t\t\thideOutShow: true,\n\t\t\timgLoadedFlag: false,\n\t\t\thighImgLoadedFlag: false,\n\t\t\thideSelector: true,\n\t\t\ttimer: null\n\t\t};\n\t},\n\tcomputed: {\n\t\taddWidth() {\n\t\t\treturn !this.outShow ? (this.width / 2) * (1 - this.scale) : 0;\n\t\t},\n\t\timgSelectorPosition() {\n\t\t\tconst { top, left } = this.selector;\n\t\t\treturn {\n\t\t\t\ttop: `${top}px`,\n\t\t\t\tleft: `${left}px`\n\t\t\t};\n\t\t},\n\t\timgSelectorSize() {\n\t\t\tconst width = this.selector.width;\n\t\t\treturn {\n\t\t\t\twidth: `${width}px`,\n\t\t\t\theight: `${width}px`\n\t\t\t};\n\t\t},\n\t\timgSelectorStyle() {\n\t\t\treturn this.selectorStyle;\n\t\t},\n\t\timgOutShowSize() {\n\t\t\tconst {\n\t\t\t\tscale,\n\t\t\t\tselector: { width }\n\t\t\t} = this;\n\t\t\treturn {\n\t\t\t\twidth: `${width * scale}px`,\n\t\t\t\theight: `${width * scale}px`\n\t\t\t};\n\t\t},\n\t\timgOutShowPosition() {\n\t\t\treturn {\n\t\t\t\ttop: `${this.outShowTop}px`,\n\t\t\t\tright: `${-8}px`\n\t\t\t};\n\t\t},\n\t\timgBg() {\n\t\t\treturn {\n\t\t\t\tbackgroundImage: `url(${this.highUrl || this.url})`\n\t\t\t};\n\t\t},\n\t\timgBgSize() {\n\t\t\tconst {\n\t\t\t\tscale,\n\t\t\t\timgInfo: { height, width }\n\t\t\t} = this;\n\t\t\treturn {\n\t\t\t\tbackgroundSize: `${width * scale}px ${height * scale}px`\n\t\t\t};\n\t\t},\n\t\timgBgPosition() {\n\t\t\tconst { bgLeft, bgTop } = this.selector;\n\t\t\treturn {\n\t\t\t\tbackgroundPosition: `${bgLeft}px ${bgTop}px`\n\t\t\t};\n\t\t}\n\t},\n\twatch: {\n\t\tmoveEvent(e) {\n\t\t\tthis.mouseMove(e);\n\t\t},\n\t\tleaveEvent(e) {\n\t\t\tthis.mouseLeave(e);\n\t\t},\n\t\turl() {\n\t\t\tthis.handlerUrlChange();\n\t\t},\n\t\twidth(n) {\n\t\t\tthis.initSelectorProperty(n);\n\t\t},\n\t\tscreenWidth(val) {\n\t\t\tif (!this.timer) {\n\t\t\t\tthis.screenWidth = val;\n\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\tthis.imgLoaded();\n\t\t\t\t\tclearTimeout(this.timer);\n\t\t\t\t\tthis.timer = null;\n\t\t\t\t}, 400);\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.url && this.lazyload && this.handlerUrlChange();\n\t},\n\tmounted() {\n\t\tthis.$img = this.$refs['img'];\n\t},\n\tmethods: {\n\t\thandlerUrlChange() {\n\t\t\tthis.imgLoadedFlag = false;\n\t\t\tthis.lazyload && this.loadImg(this.url).then(this.imgLoaded, err => console.error(err));\n\t\t},\n\t\tloadImg(url) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst img = document.createElement('img');\n\t\t\t\timg.addEventListener('load', resolve);\n\t\t\t\timg.addEventListener('error', reject);\n\t\t\t\timg.src = url;\n\t\t\t});\n\t\t},\n\t\timgLoaded() {\n\t\t\tconst imgInfo = this.$img.getBoundingClientRect();\n\t\t\tif (JSON.stringify(this.imgInfo) != JSON.stringify(imgInfo)) {\n\t\t\t\tthis.imgInfo = imgInfo;\n\t\t\t\tthis.initSelectorProperty(this.width);\n\t\t\t\tthis.resetOutShowInitPosition();\n\t\t\t}\n\t\t\tif (!this.imgLoadedFlag) {\n\t\t\t\tthis.imgLoadedFlag = true;\n\t\t\t\tthis.$emit('created', imgInfo);\n\t\t\t}\n\t\t},\n\t\tmouseMove(e) {\n\t\t\tif (!this.hideZoom && this.imgLoadedFlag) {\n\t\t\t\tthis.imgLoaded();\n\t\t\t\tconst { pageX, pageY, clientY } = e;\n\t\t\t\tconst { scale, selector, outShow, addWidth, outShowAutoScroll } = this;\n\t\t\t\tlet { outShowInitTop } = this;\n\t\t\t\tconst scrollTop = pageY - clientY;\n\t\t\t\tconst { absoluteLeft, absoluteTop, rightBound, bottomBound } = selector;\n\t\t\t\tconst x = pageX - absoluteLeft; // 选择器的x坐标 相对于图片\n\t\t\t\tconst y = pageY - absoluteTop; // 选择器的y坐标\n\t\t\t\tif (outShow) {\n\t\t\t\t\tif (!outShowInitTop) {\n\t\t\t\t\t\toutShowInitTop = this.outShowInitTop = scrollTop + this.imgInfo.top;\n\t\t\t\t\t}\n\t\t\t\t\tthis.hideOutShow && (this.hideOutShow = false);\n\t\t\t\t\tthis.outShowTop = scrollTop > outShowInitTop ? scrollTop - outShowInitTop : 0;\n\t\t\t\t}\n\t\t\t\tthis.hideSelector && (this.hideSelector = false);\n\t\t\t\tselector.top = y > 0 ? (y < bottomBound ? y : bottomBound) : 0;\n\t\t\t\tselector.left = x > 0 ? (x < rightBound ? x : rightBound) : 0;\n\t\t\t\tselector.bgLeft = addWidth - x * scale; // 选择器图片的坐标位置\n\t\t\t\tselector.bgTop = addWidth - y * scale;\n\t\t\t}\n\t\t},\n\t\tinitSelectorProperty(selectorWidth) {\n\t\t\tconst selectorHalfWidth = selectorWidth / 2;\n\t\t\tconst selector = this.selector;\n\t\t\tconst { width, height, left, top } = this.imgInfo;\n\t\t\tconst scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\t\t\tconst scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;\n\t\t\tselector.width = selectorWidth;\n\t\t\tselector.rightBound = width - selectorWidth;\n\t\t\tselector.bottomBound = height - selectorWidth;\n\t\t\tselector.absoluteLeft = left + selectorHalfWidth + scrollLeft;\n\t\t\tselector.absoluteTop = top + selectorHalfWidth + scrollTop;\n\t\t},\n\t\tmouseLeave() {\n\t\t\tthis.hideSelector = true;\n\t\t\tif (this.outShow) {\n\t\t\t\tthis.hideOutShow = true;\n\t\t\t}\n\t\t},\n\t\treset() {\n\t\t\tObject.assign(this.selector, {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tbgLeft: 0,\n\t\t\t\tbgTop: 0\n\t\t\t});\n\t\t\tthis.resetOutShowInitPosition();\n\t\t},\n\t\tresetOutShowInitPosition() {\n\t\t\tthis.outShowInitTop = 0;\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.img-container {\n\tposition: relative;\n}\n\n.img-selector {\n\tposition: absolute;\n\tcursor: crosshair;\n\tborder: 1px solid rgba(0, 0, 0, 0.1);\n\tbackground-repeat: no-repeat;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n}\n\n.img-selector.circle {\n\tborder-radius: 50%;\n}\n\n.img-out-show {\n\tposition: absolute;\n\tbackground-repeat: no-repeat;\n\ttransform: translate(100%, 0);\n\tborder: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.img-selector-point {\n\tposition: absolute;\n\twidth: 4px;\n\theight: 4px;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tbackground-color: black;\n}\n\n.img-out-show.base-line::after {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tcontent: '';\n\twidth: 1px;\n\tborder: 1px dashed rgba(0, 0, 0, 0.36);\n\ttop: 0;\n\tbottom: 0;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n}\n\n.img-out-show.base-line::before {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tcontent: '';\n\theight: 1px;\n\tborder: 1px dashed rgba(0, 0, 0, 0.36);\n\tleft: 0;\n\tright: 0;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n</style>\n"]}]}