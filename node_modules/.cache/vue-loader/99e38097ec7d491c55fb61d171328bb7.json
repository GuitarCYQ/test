{"remainingRequest":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\layouts\\components\\VabThemeBar\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\layouts\\components\\VabThemeBar\\index.vue","mtime":1638330357327},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2YXJpYWJsZXMgZnJvbSAnQC9zdHlsZXMvdmFyaWFibGVzLnNjc3MnCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBsYXlvdXQgYXMgZGVmYXVsdExheW91dCB9IGZyb20gJ0AvY29uZmlnJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZhYlRoZW1lQmFyJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHJhd2VyVmlzaWJsZTogZmFsc2UsCiAgICAgIHRoZW1lOiB7CiAgICAgICAgbmFtZTogJ2RlZmF1bHQnLAogICAgICAgIGxheW91dDogJycsCiAgICAgICAgaGVhZGVyOiAnZml4ZWQnLAogICAgICAgIHRhYnNCYXI6ICcnLAogICAgICB9LAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBsYXlvdXQ6ICdzZXR0aW5ncy9sYXlvdXQnLAogICAgICBoZWFkZXI6ICdzZXR0aW5ncy9oZWFkZXInLAogICAgICB0YWJzQmFyOiAnc2V0dGluZ3MvdGFic0JhcicsCiAgICAgIHRoZW1lQmFyOiAnc2V0dGluZ3MvdGhlbWVCYXInLAogICAgfSksCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kYmFzZUV2ZW50QnVzLiRvbigndGhlbWUnLCAoKSA9PiB7CiAgICAgIHRoaXMuaGFuZGxlT3BlblRoZW1lQmFyKCkKICAgIH0pCiAgICBjb25zdCB0aGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2dWUtYWRtaW4tYmVhdXRpZnVsLXRoZW1lJykKICAgIGlmIChudWxsICE9PSB0aGVtZSkgewogICAgICB0aGlzLnRoZW1lID0gSlNPTi5wYXJzZSh0aGVtZSkKICAgICAgdGhpcy5oYW5kbGVTZXRUaGVtZSgpCiAgICB9IGVsc2UgewogICAgICB0aGlzLnRoZW1lLmxheW91dCA9IHRoaXMubGF5b3V0CiAgICAgIHRoaXMudGhlbWUuaGVhZGVyID0gdGhpcy5oZWFkZXIKICAgICAgdGhpcy50aGVtZS50YWJzQmFyID0gdGhpcy50YWJzQmFyCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgY2hhbmdlTGF5b3V0OiAnc2V0dGluZ3MvY2hhbmdlTGF5b3V0JywKICAgICAgY2hhbmdlSGVhZGVyOiAnc2V0dGluZ3MvY2hhbmdlSGVhZGVyJywKICAgICAgY2hhbmdlVGFic0JhcjogJ3NldHRpbmdzL2NoYW5nZVRhYnNCYXInLAogICAgfSksCiAgICBoYW5kbGVJc01vYmlsZSgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAxIDwgOTkyCiAgICB9LAogICAgaGFuZGxlT3BlblRoZW1lQmFyKCkgewogICAgICB0aGlzLmRyYXdlclZpc2libGUgPSB0cnVlCiAgICB9LAogICAgaGFuZGxlU2V0VGhlbWUoKSB7CiAgICAgIGxldCB7IG5hbWUsIGxheW91dCwgaGVhZGVyLCB0YWJzQmFyIH0gPSB0aGlzLnRoZW1lCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKAogICAgICAgICd2dWUtYWRtaW4tYmVhdXRpZnVsLXRoZW1lJywKICAgICAgICBgewogICAgICAgICAgIm5hbWUiOiIke25hbWV9IiwKICAgICAgICAgICJsYXlvdXQiOiIke2xheW91dH0iLAogICAgICAgICAgImhlYWRlciI6IiR7aGVhZGVyfSIsCiAgICAgICAgICAidGFic0JhciI6IiR7dGFic0Jhcn0iCiAgICAgICAgfWAKICAgICAgKQogICAgICBpZiAoIXRoaXMuaGFuZGxlSXNNb2JpbGUoKSkgdGhpcy5jaGFuZ2VMYXlvdXQobGF5b3V0KQogICAgICB0aGlzLmNoYW5nZUhlYWRlcihoZWFkZXIpCiAgICAgIHRoaXMuY2hhbmdlVGFic0Jhcih0YWJzQmFyKQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgKICAgICAgICAnYm9keScKICAgICAgKVswXS5jbGFzc05hbWUgPSBgdnVlLWFkbWluLWJlYXV0aWZ1bC10aGVtZS0ke25hbWV9YAogICAgICB0aGlzLmRyYXdlclZpc2libGUgPSBmYWxzZQogICAgfSwKICAgIGhhbmRsZVNhdmVUaGVtZSgpIHsKICAgICAgdGhpcy5oYW5kbGVTZXRUaGVtZSgpCiAgICB9LAogICAgaGFuZGxlU2V0RGZhdWx0VGhlbWUoKSB7CiAgICAgIGxldCB7IG5hbWUgfSA9IHRoaXMudGhlbWUKICAgICAgZG9jdW1lbnQKICAgICAgICAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXQogICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKGB2dWUtYWRtaW4tYmVhdXRpZnVsLXRoZW1lLSR7bmFtZX1gKQogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndnVlLWFkbWluLWJlYXV0aWZ1bC10aGVtZScpCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS5yZXNldEZpZWxkcygpCiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy4kZGF0YSwgdGhpcy4kb3B0aW9ucy5kYXRhKCkpCiAgICAgIHRoaXMuY2hhbmdlSGVhZGVyKGRlZmF1bHRMYXlvdXQpCiAgICAgIHRoaXMudGhlbWUubmFtZSA9ICdkZWZhdWx0JwogICAgICB0aGlzLnRoZW1lLmxheW91dCA9IHRoaXMubGF5b3V0CiAgICAgIHRoaXMudGhlbWUuaGVhZGVyID0gdGhpcy5oZWFkZXIKICAgICAgdGhpcy50aGVtZS50YWJzQmFyID0gdGhpcy50YWJzQmFyCiAgICAgIHRoaXMuZHJhd2VyVmlzaWJsZSA9IGZhbHNlCiAgICB9LAogICAgaGFuZGxlR2V0Q29kZSgpIHsKICAgICAgY29uc3QgdXJsID0KICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL2NodXpoaXhpbi92dWUtYWRtaW4tYmVhdXRpZnVsL3RyZWUvbWFzdGVyL3NyYy92aWV3cycKICAgICAgbGV0IHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoICsgJy9pbmRleC52dWUnCiAgICAgIGlmIChwYXRoID09PSAnL3ZhYi9tZW51MS9tZW51MS0xL21lbnUxLTEtMS9pbmRleC52dWUnKSB7CiAgICAgICAgcGF0aCA9ICcvdmFiL25lc3RlZC9tZW51MS9tZW51MS0xL21lbnUxLTEtMS9pbmRleC52dWUnCiAgICAgIH0KICAgICAgaWYgKHBhdGggPT09ICcvdmFiL2ljb24vYXdlc29tZUljb24vaW5kZXgudnVlJykgewogICAgICAgIHBhdGggPSAnL3ZhYi9pY29uL2luZGV4LnZ1ZScKICAgICAgfQogICAgICBpZiAocGF0aCA9PT0gJy92YWIvaWNvbi9yZW1peEljb24vaW5kZXgudnVlJykgewogICAgICAgIHBhdGggPSAnL3ZhYi9pY29uL3JlbWl4SWNvbi52dWUnCiAgICAgIH0KICAgICAgaWYgKHBhdGggPT09ICcvdmFiL2ljb24vY29sb3JmdWxJY29uL2luZGV4LnZ1ZScpIHsKICAgICAgICBwYXRoID0gJy92YWIvaWNvbi9jb2xvcmZ1bEljb24udnVlJwogICAgICB9CiAgICAgIGlmIChwYXRoID09PSAnL3ZhYi90YWJsZS9jb21wcmVoZW5zaXZlVGFibGUvaW5kZXgudnVlJykgewogICAgICAgIHBhdGggPSAnL3ZhYi90YWJsZS9pbmRleC52dWUnCiAgICAgIH0KICAgICAgaWYgKHBhdGggPT09ICcvdmFiL3RhYmxlL2lubGluZUVkaXRUYWJsZS9pbmRleC52dWUnKSB7CiAgICAgICAgcGF0aCA9ICcvdmFiL3RhYmxlL2lubGluZUVkaXRUYWJsZS52dWUnCiAgICAgIH0KICAgICAgd2luZG93Lm9wZW4odXJsICsgcGF0aCkKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layouts/components/VabThemeBar","sourcesContent":["<template>\n  <span v-if=\"themeBar\">\n    <vab-icon\n      title=\"主题配置\"\n      :icon=\"['fas', 'palette']\"\n      @click=\"handleOpenThemeBar\"\n    />\n    <div class=\"theme-bar-setting\">\n      <div @click=\"handleOpenThemeBar\">\n        <vab-icon :icon=\"['fas', 'palette']\" />\n        <p>主题配置</p>\n      </div>\n      <div @click=\"handleGetCode\">\n        <vab-icon :icon=\"['fas', 'laptop-code']\"></vab-icon>\n        <p>拷贝源码</p>\n      </div>\n    </div>\n\n    <el-drawer\n      title=\"主题配置\"\n      :visible.sync=\"drawerVisible\"\n      direction=\"rtl\"\n      append-to-body\n      size=\"470px\"\n    >\n      <el-scrollbar style=\"height: 94vh; overflow: hidden\">\n        <div class=\"el-drawer__body\">\n          <el-form ref=\"form\" :model=\"theme\">\n            <el-form-item label=\"主题\">\n              <el-radio-group v-model=\"theme.name\">\n                <el-radio-button label=\"default\">默认</el-radio-button>\n                <el-radio-button label=\"green\">绿荫草场</el-radio-button>\n                <el-radio-button label=\"glory\">荣耀典藏</el-radio-button>\n                <el-radio-button label=\"dark\">暗黑之子</el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"布局\">\n              <el-radio-group v-model=\"theme.layout\">\n                <el-radio-button label=\"vertical\">纵向布局</el-radio-button>\n                <el-radio-button label=\"horizontal\">横向布局</el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"头部\">\n              <el-radio-group v-model=\"theme.header\">\n                <el-radio-button label=\"fixed\">固定头部</el-radio-button>\n                <el-radio-button label=\"noFixed\">不固定头部</el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"多标签\">\n              <el-radio-group v-model=\"theme.tabsBar\">\n                <el-radio-button label=\"true\">开启</el-radio-button>\n                <el-radio-button label=\"false\">不开启</el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item>\n              <el-button @click=\"handleSetDfaultTheme\">恢复默认</el-button>\n              <el-button type=\"primary\" @click=\"handleSaveTheme\">\n                保存\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-scrollbar>\n    </el-drawer>\n  </span>\n</template>\n\n<script>\n  import variables from '@/styles/variables.scss'\n  import { mapActions, mapGetters } from 'vuex'\n  import { layout as defaultLayout } from '@/config'\n  export default {\n    name: 'VabThemeBar',\n    data() {\n      return {\n        drawerVisible: false,\n        theme: {\n          name: 'default',\n          layout: '',\n          header: 'fixed',\n          tabsBar: '',\n        },\n      }\n    },\n    computed: {\n      ...mapGetters({\n        layout: 'settings/layout',\n        header: 'settings/header',\n        tabsBar: 'settings/tabsBar',\n        themeBar: 'settings/themeBar',\n      }),\n    },\n    created() {\n      this.$baseEventBus.$on('theme', () => {\n        this.handleOpenThemeBar()\n      })\n      const theme = localStorage.getItem('vue-admin-beautiful-theme')\n      if (null !== theme) {\n        this.theme = JSON.parse(theme)\n        this.handleSetTheme()\n      } else {\n        this.theme.layout = this.layout\n        this.theme.header = this.header\n        this.theme.tabsBar = this.tabsBar\n      }\n    },\n    methods: {\n      ...mapActions({\n        changeLayout: 'settings/changeLayout',\n        changeHeader: 'settings/changeHeader',\n        changeTabsBar: 'settings/changeTabsBar',\n      }),\n      handleIsMobile() {\n        return document.body.getBoundingClientRect().width - 1 < 992\n      },\n      handleOpenThemeBar() {\n        this.drawerVisible = true\n      },\n      handleSetTheme() {\n        let { name, layout, header, tabsBar } = this.theme\n        localStorage.setItem(\n          'vue-admin-beautiful-theme',\n          `{\n            \"name\":\"${name}\",\n            \"layout\":\"${layout}\",\n            \"header\":\"${header}\",\n            \"tabsBar\":\"${tabsBar}\"\n          }`\n        )\n        if (!this.handleIsMobile()) this.changeLayout(layout)\n        this.changeHeader(header)\n        this.changeTabsBar(tabsBar)\n        document.getElementsByTagName(\n          'body'\n        )[0].className = `vue-admin-beautiful-theme-${name}`\n        this.drawerVisible = false\n      },\n      handleSaveTheme() {\n        this.handleSetTheme()\n      },\n      handleSetDfaultTheme() {\n        let { name } = this.theme\n        document\n          .getElementsByTagName('body')[0]\n          .classList.remove(`vue-admin-beautiful-theme-${name}`)\n        localStorage.removeItem('vue-admin-beautiful-theme')\n        this.$refs['form'].resetFields()\n        Object.assign(this.$data, this.$options.data())\n        this.changeHeader(defaultLayout)\n        this.theme.name = 'default'\n        this.theme.layout = this.layout\n        this.theme.header = this.header\n        this.theme.tabsBar = this.tabsBar\n        this.drawerVisible = false\n      },\n      handleGetCode() {\n        const url =\n          'https://github.com/chuzhixin/vue-admin-beautiful/tree/master/src/views'\n        let path = this.$route.path + '/index.vue'\n        if (path === '/vab/menu1/menu1-1/menu1-1-1/index.vue') {\n          path = '/vab/nested/menu1/menu1-1/menu1-1-1/index.vue'\n        }\n        if (path === '/vab/icon/awesomeIcon/index.vue') {\n          path = '/vab/icon/index.vue'\n        }\n        if (path === '/vab/icon/remixIcon/index.vue') {\n          path = '/vab/icon/remixIcon.vue'\n        }\n        if (path === '/vab/icon/colorfulIcon/index.vue') {\n          path = '/vab/icon/colorfulIcon.vue'\n        }\n        if (path === '/vab/table/comprehensiveTable/index.vue') {\n          path = '/vab/table/index.vue'\n        }\n        if (path === '/vab/table/inlineEditTable/index.vue') {\n          path = '/vab/table/inlineEditTable.vue'\n        }\n        window.open(url + path)\n      },\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @mixin right-bar {\n    position: fixed;\n    right: 0;\n    z-index: $base-z-index;\n    width: 60px;\n    min-height: 60px;\n    text-align: center;\n    cursor: pointer;\n    background: $base-color-blue;\n    border-radius: $base-border-radius;\n\n    > div {\n      padding-top: 10px;\n      border-bottom: 0 !important;\n\n      &:hover {\n        opacity: 0.9;\n      }\n\n      & + div {\n        border-top: 1px solid $base-color-white;\n      }\n\n      p {\n        padding: 0;\n        margin: 0;\n        font-size: $base-font-size-small;\n        line-height: 30px;\n        color: $base-color-white;\n      }\n    }\n  }\n\n  .theme-bar-setting {\n    @include right-bar;\n\n    top: calc((100vh - 110px) / 2);\n\n    ::v-deep {\n      svg:not(:root).svg-inline--fa {\n        display: block;\n        margin-right: auto;\n        margin-left: auto;\n        color: $base-color-white;\n      }\n\n      .svg-icon {\n        display: block;\n        margin-right: auto;\n        margin-left: auto;\n        font-size: 20px;\n        color: $base-color-white;\n        fill: $base-color-white;\n      }\n    }\n  }\n\n  .el-drawer__body {\n    padding: 20px;\n  }\n</style>\n<style lang=\"scss\">\n  .el-drawer__wrapper {\n    outline: none !important;\n\n    * {\n      outline: none !important;\n    }\n  }\n\n  .vab-color-picker {\n    .el-color-dropdown__link-btn {\n      display: none;\n    }\n  }\n</style>\n"]}]}