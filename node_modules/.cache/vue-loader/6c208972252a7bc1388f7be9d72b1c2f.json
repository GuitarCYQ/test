{"remainingRequest":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\views\\vab\\map\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\views\\vab\\map\\index.vue","mtime":1638330357735},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0ICogYXMgbWFwdiBmcm9tICdtYXB2JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hcCcsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fQogIH0sCiAgY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIGNvbnN0IG1hcCA9IHRoaXMuJGJhc2VNYXAoKQogICAgICBheGlvcwogICAgICAgIC5nZXQoCiAgICAgICAgICAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tYXB2QDIuMC4xMi9leGFtcGxlcy9kYXRhL29kLXhpZXJxaS50eHQnCiAgICAgICAgKQogICAgICAgIC50aGVuKChycykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSBbXQogICAgICAgICAgbGV0IHRpbWVEYXRhID0gW10KCiAgICAgICAgICBycyA9IHJzLmRhdGEuc3BsaXQoJ1xuJykKICAgICAgICAgIGxldCBtYXhMZW5ndGggPSAwCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGxldCBpdGVtID0gcnNbaV0uc3BsaXQoJywnKQogICAgICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBbXQogICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggPiBtYXhMZW5ndGgpIHsKICAgICAgICAgICAgICBtYXhMZW5ndGggPSBpdGVtLmxlbmd0aAogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaXRlbS5sZW5ndGg7IGogKz0gMikgewogICAgICAgICAgICAgIGxldCB4ID0gKE51bWJlcihpdGVtW2pdKSAvIDIwMDM3NTA4LjM0KSAqIDE4MAogICAgICAgICAgICAgIGxldCB5ID0gKE51bWJlcihpdGVtW2ogKyAxXSkgLyAyMDAzNzUwOC4zNCkgKiAxODAKICAgICAgICAgICAgICB5ID0KICAgICAgICAgICAgICAgICgxODAgLyBNYXRoLlBJKSAqCiAgICAgICAgICAgICAgICAoMiAqIE1hdGguYXRhbihNYXRoLmV4cCgoeSAqIE1hdGguUEkpIC8gMTgwKSkgLSBNYXRoLlBJIC8gMikKICAgICAgICAgICAgICBpZiAoeCA9PSAwIHx8IHkgPT0gTmFOKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKFt4LCB5XSkKICAgICAgICAgICAgICB0aW1lRGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsCiAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbeCwgeV0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY291bnQ6IDEsCiAgICAgICAgICAgICAgICB0aW1lOiBqLAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGF0YS5wdXNoKHsKICAgICAgICAgICAgICBnZW9tZXRyeTogewogICAgICAgICAgICAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLAogICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CgogICAgICAgICAgbGV0IGRhdGFTZXQgPSBuZXcgbWFwdi5EYXRhU2V0KGRhdGEpCgogICAgICAgICAgbGV0IG9wdGlvbnMgPSB7CiAgICAgICAgICAgIHN0cm9rZVN0eWxlOiAncmdiYSg1Myw1NywyNTUsMC41KScsCiAgICAgICAgICAgIC8vIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogJ2xpZ2h0ZXInLAogICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoNTMsNTcsMjU1LDAuMiknLAogICAgICAgICAgICBzaGFkb3dCbHVyOiAzLAogICAgICAgICAgICBsaW5lV2lkdGg6IDMuMCwKICAgICAgICAgICAgZHJhdzogJ3NpbXBsZScsCiAgICAgICAgICB9CgogICAgICAgICAgbGV0IG1hcHZMYXllciA9IG5ldyBtYXB2Lk1hcHRhbGtzTGF5ZXIoCiAgICAgICAgICAgICdtYXB2MScsCiAgICAgICAgICAgIGRhdGFTZXQsCiAgICAgICAgICAgIG9wdGlvbnMKICAgICAgICAgICkuYWRkVG8obWFwKQoKICAgICAgICAgIGxldCBkYXRhU2V0MiA9IG5ldyBtYXB2LkRhdGFTZXQodGltZURhdGEpCgogICAgICAgICAgbGV0IG9wdGlvbnMyID0gewogICAgICAgICAgICBmaWxsU3R5bGU6ICdyZ2JhKDI1NSwgMjUwLCAyNTAsIDAuMiknLAogICAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246ICdsaWdodGVyJywKICAgICAgICAgICAgc2l6ZTogMS41LAogICAgICAgICAgICBhbmltYXRpb246IHsKICAgICAgICAgICAgICBzdGVwc1JhbmdlOiB7CiAgICAgICAgICAgICAgICBzdGFydDogMCwKICAgICAgICAgICAgICAgIGVuZDogMTAwLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgdHJhaWxzOiAzLAogICAgICAgICAgICAgIGR1cmF0aW9uOiA1LAogICAgICAgICAgICB9LAogICAgICAgICAgICBkcmF3OiAnc2ltcGxlJywKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgbWFwdkxheWVyMiA9IG5ldyBtYXB2Lk1hcHRhbGtzTGF5ZXIoCiAgICAgICAgICAgICdtYXB2MicsCiAgICAgICAgICAgIGRhdGFTZXQyLAogICAgICAgICAgICBvcHRpb25zMgogICAgICAgICAgKS5hZGRUbyhtYXApCiAgICAgICAgfSkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7fSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/vab/map","sourcesContent":["<template>\n  <div class=\"map-container\">\n    <div id=\"map\" class=\"container\"></div>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import * as mapv from 'mapv'\n  export default {\n    name: 'Map',\n    components: {},\n    data() {\n      return {}\n    },\n    created() {},\n    mounted() {\n      this.$nextTick(() => {\n        const map = this.$baseMap()\n        axios\n          .get(\n            'https://cdn.jsdelivr.net/npm/mapv@2.0.12/examples/data/od-xierqi.txt'\n          )\n          .then((rs) => {\n            let data = []\n            let timeData = []\n\n            rs = rs.data.split('\\n')\n            let maxLength = 0\n            for (let i = 0; i < rs.length; i++) {\n              let item = rs[i].split(',')\n              let coordinates = []\n              if (item.length > maxLength) {\n                maxLength = item.length\n              }\n              for (let j = 0; j < item.length; j += 2) {\n                let x = (Number(item[j]) / 20037508.34) * 180\n                let y = (Number(item[j + 1]) / 20037508.34) * 180\n                y =\n                  (180 / Math.PI) *\n                  (2 * Math.atan(Math.exp((y * Math.PI) / 180)) - Math.PI / 2)\n                if (x == 0 || y == NaN) {\n                  continue\n                }\n                coordinates.push([x, y])\n                timeData.push({\n                  geometry: {\n                    type: 'Point',\n                    coordinates: [x, y],\n                  },\n                  count: 1,\n                  time: j,\n                })\n              }\n              data.push({\n                geometry: {\n                  type: 'LineString',\n                  coordinates: coordinates,\n                },\n              })\n            }\n\n            let dataSet = new mapv.DataSet(data)\n\n            let options = {\n              strokeStyle: 'rgba(53,57,255,0.5)',\n              // globalCompositeOperation: 'lighter',\n              shadowColor: 'rgba(53,57,255,0.2)',\n              shadowBlur: 3,\n              lineWidth: 3.0,\n              draw: 'simple',\n            }\n\n            let mapvLayer = new mapv.MaptalksLayer(\n              'mapv1',\n              dataSet,\n              options\n            ).addTo(map)\n\n            let dataSet2 = new mapv.DataSet(timeData)\n\n            let options2 = {\n              fillStyle: 'rgba(255, 250, 250, 0.2)',\n              globalCompositeOperation: 'lighter',\n              size: 1.5,\n              animation: {\n                stepsRange: {\n                  start: 0,\n                  end: 100,\n                },\n                trails: 3,\n                duration: 5,\n              },\n              draw: 'simple',\n            }\n\n            let mapvLayer2 = new mapv.MaptalksLayer(\n              'mapv2',\n              dataSet2,\n              options2\n            ).addTo(map)\n          })\n      })\n    },\n    methods: {},\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .map-container {\n    .container {\n      width: 100%;\n      height: calc(100vh - 214px);\n    }\n  }\n</style>\n"]}]}