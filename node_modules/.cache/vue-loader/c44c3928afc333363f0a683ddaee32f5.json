{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\vue-admin-beautiful-test\\src\\layouts\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\src\\layouts\\index.vue","mtime":1638330357339},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyB0b2tlbk5hbWUgfSBmcm9tICdAL2NvbmZpZycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMYXlvdXQnLAogIGRhdGEoKSB7CiAgICByZXR1cm4geyBvbGRMYXlvdXQ6ICcnIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgbGF5b3V0OiAnc2V0dGluZ3MvbGF5b3V0JywKICAgICAgdGFic0JhcjogJ3NldHRpbmdzL3RhYnNCYXInLAogICAgICBjb2xsYXBzZTogJ3NldHRpbmdzL2NvbGxhcHNlJywKICAgICAgaGVhZGVyOiAnc2V0dGluZ3MvaGVhZGVyJywKICAgICAgZGV2aWNlOiAnc2V0dGluZ3MvZGV2aWNlJywKICAgIH0pLAogICAgY2xhc3NPYmooKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbW9iaWxlOiB0aGlzLmRldmljZSA9PT0gJ21vYmlsZScsCiAgICAgIH0KICAgIH0sCiAgfSwKICBiZWZvcmVNb3VudCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSkKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5vbGRMYXlvdXQgPSB0aGlzLmxheW91dAogICAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudAogICAgaWYgKHVzZXJBZ2VudC5pbmNsdWRlcygnSnVlamluJykpIHsKICAgICAgdGhpcy4kYmFzZUFsZXJ0KAogICAgICAgICd2dWUtYWRtaW4tYmVhdXRpZnVs5LiN5pSv5oyB5Zyo5o6Y6YeR5YaF572u5rWP6KeI5Zmo5ryU56S677yM6K+35omL5Yqo5aSN5Yi25Lul5LiL5Zyw5Z2A5Yiw5rWP6KeI5Zmo5Lit5p+l55yLaHR0cDovL21wZmhyZDQ4LnNhbnhpbmcudXo3LmNuL3Z1ZS1hZG1pbi1iZWF1dGlmdWwnCiAgICAgICkKICAgIH0KICAgIGNvbnN0IGlzTW9iaWxlID0gdGhpcy5oYW5kbGVJc01vYmlsZSgpCiAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgaWYgKGlzTW9iaWxlKSB7CiAgICAgICAgLy/mqKrlkJHluIPlsYDml7blpoLmnpzmmK/miYvmnLrnq6/orr/pl67pgqPkuYjmlLnmiJDnurXlkJHniYgKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvY2hhbmdlTGF5b3V0JywgJ3ZlcnRpY2FsJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvY2hhbmdlTGF5b3V0JywgdGhpcy5vbGRMYXlvdXQpCiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL3RvZ2dsZURldmljZScsICdtb2JpbGUnKQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvZm9sZFNpZGVCYXInKQogICAgICB9LCAyMDAwKQogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL29wZW5TaWRlQmFyJykKICAgIH0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICAgJ3N0b3JhZ2UnLAogICAgICAgIChlKSA9PiB7CiAgICAgICAgICBpZiAoZS5rZXkgPT09IHRva2VuTmFtZSB8fCBlLmtleSA9PT0gbnVsbCkgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgICBpZiAoZS5rZXkgPT09IHRva2VuTmFtZSAmJiBlLnZhbHVlID09PSBudWxsKQogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgICAgICB9LAogICAgICAgIGZhbHNlCiAgICAgICkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgaGFuZGxlRm9sZFNpZGVCYXI6ICdzZXR0aW5ncy9mb2xkU2lkZUJhcicsCiAgICB9KSwKICAgIGhhbmRsZUlzTW9iaWxlKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDEgPCA5OTIKICAgIH0sCiAgICBoYW5kbGVSZXNpemUoKSB7CiAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7CiAgICAgICAgY29uc3QgaXNNb2JpbGUgPSB0aGlzLmhhbmRsZUlzTW9iaWxlKCkKICAgICAgICBpZiAoaXNNb2JpbGUpIHsKICAgICAgICAgIC8v5qiq5ZCR5biD5bGA5pe25aaC5p6c5piv5omL5py656uv6K6/6Zeu6YKj5LmI5pS55oiQ57q15ZCR54mICiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvY2hhbmdlTGF5b3V0JywgJ3ZlcnRpY2FsJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldHRpbmdzL2NoYW5nZUxheW91dCcsIHRoaXMub2xkTGF5b3V0KQogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgICAnc2V0dGluZ3MvdG9nZ2xlRGV2aWNlJywKICAgICAgICAgIGlzTW9iaWxlID8gJ21vYmlsZScgOiAnZGVza3RvcCcKICAgICAgICApCiAgICAgIH0KICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <div class=\"vue-admin-beautiful-wrapper\" :class=\"classObj\">\n    <div\n      v-if=\"'horizontal' === layout\"\n      class=\"layout-container-horizontal\"\n      :class=\"{\n        fixed: header === 'fixed',\n        'no-tabs-bar': tabsBar === 'false' || tabsBar === false,\n      }\"\n    >\n      <div :class=\"header === 'fixed' ? 'fixed-header' : ''\">\n        <vab-top-bar />\n        <div\n          v-if=\"tabsBar === 'true' || tabsBar === true\"\n          :class=\"{ 'tag-view-show': tabsBar }\"\n        >\n          <div class=\"vab-main\">\n            <vab-tabs-bar />\n          </div>\n        </div>\n      </div>\n      <div class=\"vab-main main-padding\">\n        <vab-ad />\n        <vab-app-main />\n      </div>\n    </div>\n    <div\n      v-else\n      class=\"layout-container-vertical\"\n      :class=\"{\n        fixed: header === 'fixed',\n        'no-tabs-bar': tabsBar === 'false' || tabsBar === false,\n      }\"\n    >\n      <div\n        v-if=\"device === 'mobile' && collapse === false\"\n        class=\"mask\"\n        @click=\"handleFoldSideBar\"\n      />\n      <vab-side-bar />\n      <div class=\"vab-main\" :class=\"collapse ? 'is-collapse-main' : ''\">\n        <div :class=\"header === 'fixed' ? 'fixed-header' : ''\">\n          <vab-nav-bar />\n          <vab-tabs-bar v-if=\"tabsBar === 'true' || tabsBar === true\" />\n        </div>\n        <vab-ad />\n        <vab-app-main />\n      </div>\n    </div>\n    <el-backtop />\n  </div>\n</template>\n\n<script>\n  import { mapActions, mapGetters } from 'vuex'\n  import { tokenName } from '@/config'\n  export default {\n    name: 'Layout',\n    data() {\n      return { oldLayout: '' }\n    },\n    computed: {\n      ...mapGetters({\n        layout: 'settings/layout',\n        tabsBar: 'settings/tabsBar',\n        collapse: 'settings/collapse',\n        header: 'settings/header',\n        device: 'settings/device',\n      }),\n      classObj() {\n        return {\n          mobile: this.device === 'mobile',\n        }\n      },\n    },\n    beforeMount() {\n      window.addEventListener('resize', this.handleResize)\n    },\n    beforeDestroy() {\n      window.removeEventListener('resize', this.handleResize)\n    },\n    mounted() {\n      this.oldLayout = this.layout\n      const userAgent = navigator.userAgent\n      if (userAgent.includes('Juejin')) {\n        this.$baseAlert(\n          'vue-admin-beautiful不支持在掘金内置浏览器演示，请手动复制以下地址到浏览器中查看http://mpfhrd48.sanxing.uz7.cn/vue-admin-beautiful'\n        )\n      }\n      const isMobile = this.handleIsMobile()\n      if (isMobile) {\n        if (isMobile) {\n          //横向布局时如果是手机端访问那么改成纵向版\n          this.$store.dispatch('settings/changeLayout', 'vertical')\n        } else {\n          this.$store.dispatch('settings/changeLayout', this.oldLayout)\n        }\n        this.$store.dispatch('settings/toggleDevice', 'mobile')\n        setTimeout(() => {\n          this.$store.dispatch('settings/foldSideBar')\n        }, 2000)\n      } else {\n        this.$store.dispatch('settings/openSideBar')\n      }\n      this.$nextTick(() => {\n        window.addEventListener(\n          'storage',\n          (e) => {\n            if (e.key === tokenName || e.key === null) window.location.reload()\n            if (e.key === tokenName && e.value === null)\n              window.location.reload()\n          },\n          false\n        )\n      })\n    },\n    methods: {\n      ...mapActions({\n        handleFoldSideBar: 'settings/foldSideBar',\n      }),\n      handleIsMobile() {\n        return document.body.getBoundingClientRect().width - 1 < 992\n      },\n      handleResize() {\n        if (!document.hidden) {\n          const isMobile = this.handleIsMobile()\n          if (isMobile) {\n            //横向布局时如果是手机端访问那么改成纵向版\n            this.$store.dispatch('settings/changeLayout', 'vertical')\n          } else {\n            this.$store.dispatch('settings/changeLayout', this.oldLayout)\n          }\n\n          this.$store.dispatch(\n            'settings/toggleDevice',\n            isMobile ? 'mobile' : 'desktop'\n          )\n        }\n      },\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @mixin fix-header {\n    position: fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    z-index: $base-z-index - 2;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .vue-admin-beautiful-wrapper {\n    position: relative;\n    width: 100%;\n    height: 100%;\n\n    .layout-container-horizontal {\n      position: relative;\n\n      &.fixed {\n        padding-top: calc(#{$base-top-bar-height} + #{$base-tabs-bar-height});\n      }\n\n      &.fixed.no-tabs-bar {\n        padding-top: $base-top-bar-height;\n      }\n\n      ::v-deep {\n        .vab-main {\n          width: 88%;\n          margin: auto;\n        }\n\n        .fixed-header {\n          @include fix-header;\n        }\n\n        .tag-view-show {\n          background: $base-color-white;\n          box-shadow: $base-box-shadow;\n        }\n\n        .nav-bar-container {\n          .fold-unfold {\n            display: none;\n          }\n        }\n\n        .main-padding {\n          .app-main-container {\n            margin-top: $base-padding;\n            margin-bottom: $base-padding;\n            background: $base-color-white;\n          }\n        }\n      }\n    }\n\n    .layout-container-vertical {\n      position: relative;\n\n      .mask {\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: $base-z-index - 1;\n        width: 100%;\n        height: 100vh;\n        overflow: hidden;\n        background: #000;\n        opacity: 0.5;\n      }\n\n      &.fixed {\n        padding-top: calc(#{$base-nav-bar-height} + #{$base-tabs-bar-height});\n      }\n\n      &.fixed.no-tabs-bar {\n        padding-top: $base-nav-bar-height;\n      }\n\n      .vab-main {\n        position: relative;\n        min-height: 100%;\n        margin-left: $base-left-menu-width;\n        background: #f6f8f9;\n        transition: $base-transition;\n\n        ::v-deep {\n          .fixed-header {\n            @include fix-header;\n\n            left: $base-left-menu-width;\n            width: $base-right-content-width;\n            box-shadow: $base-box-shadow;\n            transition: $base-transition;\n          }\n\n          .nav-bar-container {\n            position: relative;\n            box-sizing: border-box;\n          }\n\n          .tabs-bar-container {\n            box-sizing: border-box;\n          }\n\n          .app-main-container {\n            width: calc(100% - #{$base-padding} - #{$base-padding});\n            margin: $base-padding auto;\n            background: $base-color-white;\n            border-radius: $base-border-radius;\n          }\n        }\n\n        &.is-collapse-main {\n          margin-left: $base-left-menu-width-min;\n\n          ::v-deep {\n            .fixed-header {\n              left: $base-left-menu-width-min;\n              width: calc(100% - 65px);\n            }\n          }\n        }\n      }\n    }\n\n    /* 手机端开始 */\n    &.mobile {\n      ::v-deep {\n        .el-pager,\n        .el-pagination__jump {\n          display: none;\n        }\n\n        .layout-container-vertical {\n          .el-scrollbar.side-bar-container.is-collapse {\n            width: 0;\n          }\n\n          .vab-main {\n            width: 100%;\n            margin-left: 0;\n          }\n        }\n\n        .vab-main {\n          .fixed-header {\n            left: 0 !important;\n            width: 100% !important;\n          }\n        }\n      }\n    }\n\n    /* 手机端结束 */\n  }\n</style>\n"]}]}