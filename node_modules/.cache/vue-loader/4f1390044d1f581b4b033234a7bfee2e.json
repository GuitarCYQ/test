{"remainingRequest":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\zx-layouts\\VabErrorLog\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\zx-layouts\\VabErrorLog\\index.vue","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\vue-admin-beautiful-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFiYnJldmlhdGlvbiwgdGl0bGUgfSBmcm9tICJAL2NvbmZpZyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVmFiRXJyb3JMb2ciLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVGFibGVWaXNpYmxlOiBmYWxzZSwKICAgICAgdGl0bGU6IHRpdGxlLAogICAgICBhYmJyZXZpYXRpb246IGFiYnJldmlhdGlvbiwKICAgICAgc2VhcmNoTGlzdDogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi55m+5bqm5pCc57SiIiwKICAgICAgICAgIHVybDogImh0dHBzOi8vd3d3LmJhaWR1LmNvbS9iYWlkdT93ZD0iLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLosLfmrYzmkJzntKIiLAogICAgICAgICAgdXJsOiAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0iLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICJNYWdp5pCc57SiIiwKICAgICAgICAgIHVybDogImh0dHBzOi8vbWFnaS5jb20vc2VhcmNoP3E9IiwKICAgICAgICB9LAogICAgICBdLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGVycm9yTG9nczogImVycm9yTG9nL2Vycm9yTG9ncyIsCiAgICB9KSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsZWFyQWxsKCkgewogICAgICB0aGlzLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZXJyb3JMb2cvY2xlYXJFcnJvckxvZyIpOwogICAgfSwKICAgIGRlY29kZVVuaWNvZGUoc3RyKSB7CiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXC9nLCAiJSIpOwogICAgICBzdHIgPSB1bmVzY2FwZShzdHIpOwogICAgICBzdHIgPSBzdHIucmVwbGFjZSgvJS9nLCAiXFwiKTsKICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcL2csICIiKTsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/zx-layouts/VabErrorLog","sourcesContent":["<template>\n  <div v-if=\"errorLogs.length > 0\">\n    <el-badge\n      :value=\"errorLogs.length\"\n      @click.native=\"dialogTableVisible = true\"\n    >\n      <el-button type=\"danger\">\n        <vab-icon :icon=\"['fas', 'bug']\" />\n      </el-button>\n    </el-badge>\n\n    <el-dialog\n      :visible.sync=\"dialogTableVisible\"\n      append-to-body\n      width=\"70%\"\n      title=\"vue-admin-beautiful异常捕获(温馨提示：错误必须解决)\"\n    >\n      <el-table :data=\"errorLogs\">\n        <el-table-column label=\"报错路由\">\n          <template slot-scope=\"{ row }\">\n            <a :href=\"row.url\" target=\"_blank\">\n              <el-tag type=\"success\">{{ row.url }}</el-tag>\n            </a>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"错误信息\">\n          <template slot-scope=\"{ row }\">\n            <el-tag type=\"danger\">{{ decodeUnicode(row.err.message) }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"错误详情\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-popover placement=\"top-start\" trigger=\"hover\">\n              <div style=\"color: red\">\n                {{ scope.row.err.stack }}\n              </div>\n              <el-button slot=\"reference\">查看</el-button>\n            </el-popover>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"380\" label=\"操作\">\n          <template slot-scope=\"{ row }\">\n            <a\n              v-for=\"(item, index) in searchList\"\n              :key=\"index\"\n              :href=\"item.url + decodeUnicode(row.err.message)\"\n              target=\"_blank\"\n            >\n              <el-button style=\"margin-left: 5px\" type=\"primary\">\n                <vab-icon :icon=\"['fas', 'search']\" />\n                {{ item.title }}\n              </el-button>\n            </a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogTableVisible = false\">取 消</el-button>\n        <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"clearAll\">\n          暂不显示\n        </el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import { abbreviation, title } from \"@/config\";\n  import { mapGetters } from \"vuex\";\n\n  export default {\n    name: \"VabErrorLog\",\n\n    data() {\n      return {\n        dialogTableVisible: false,\n        title: title,\n        abbreviation: abbreviation,\n        searchList: [\n          {\n            title: \"百度搜索\",\n            url: \"https://www.baidu.com/baidu?wd=\",\n          },\n          {\n            title: \"谷歌搜索\",\n            url: \"https://www.google.com/search?q=\",\n          },\n          {\n            title: \"Magi搜索\",\n            url: \"https://magi.com/search?q=\",\n          },\n        ],\n      };\n    },\n\n    computed: {\n      ...mapGetters({\n        errorLogs: \"errorLog/errorLogs\",\n      }),\n    },\n    methods: {\n      clearAll() {\n        this.dialogTableVisible = false;\n        this.$store.dispatch(\"errorLog/clearErrorLog\");\n      },\n      decodeUnicode(str) {\n        str = str.replace(/\\\\/g, \"%\");\n        str = unescape(str);\n        str = str.replace(/%/g, \"\\\\\");\n        str = str.replace(/\\\\/g, \"\");\n        return str;\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  ::v-deep {\n    .el-badge {\n      .el-button {\n        display: flex;\n        align-items: center;\n        justify-items: center;\n        height: 28px;\n      }\n    }\n  }\n</style>\n"]}]}