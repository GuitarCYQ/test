{"remainingRequest":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\file\\test\\src\\views\\vab\\permissions\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\file\\test\\src\\views\\vab\\permissions\\index.vue","mtime":1638330357778},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\file\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\file\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyB0b2tlblRhYmxlTmFtZSB9IGZyb20gJ0AvY29uZmlnJwppbXBvcnQgeyBnZXRSb3V0ZXJMaXN0IH0gZnJvbSAnQC9hcGkvcm91dGVyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQZXJtaXNzaW9ucycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBhY2NvdW50OiAnJywKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcmVzOiBbXSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgdXNlcm5hbWU6ICd1c2VyL3VzZXJuYW1lJywKICAgICAgcGVybWlzc2lvbnM6ICd1c2VyL3Blcm1pc3Npb25zJywKICAgIH0pLAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZvcm0uYWNjb3VudCA9IHRoaXMudXNlcm5hbWUKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZVBlcm1pc3Npb24oKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRva2VuVGFibGVOYW1lLCBgJHt0aGlzLmZvcm0uYWNjb3VudH0tYWNjZXNzVG9rZW5gKQogICAgICBsb2NhdGlvbi5yZWxvYWQoKQogICAgfSwKICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0Um91dGVyTGlzdCgpCiAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEKICAgICAgdGhpcy5yZXMgPSByZXMKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/vab/permissions","sourcesContent":["<template>\n  <div class=\"permissions-container\">\n    <el-divider content-position=\"left\">\n      intelligence模式,前端根据permissions拦截路由(演示环境,默认使用此方案)\n    </el-divider>\n\n    <el-form ref=\"form\" :model=\"form\" :inline=\"true\">\n      <el-form-item label=\"切换账号\">\n        <el-radio-group v-model=\"form.account\">\n          <el-radio label=\"admin\">admin</el-radio>\n          <el-radio label=\"editor\">editor</el-radio>\n          <el-radio label=\"test\">test</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"handleChangePermission\">\n          切换权限\n        </el-button>\n      </el-form-item>\n      <el-form-item label=\"当前账号拥有的权限\">\n        {{ JSON.stringify(permissions) }}\n      </el-form-item>\n    </el-form>\n    <el-divider content-position=\"left\">按钮级权限演示</el-divider>\n    <el-button v-permissions=\"['admin']\" type=\"primary\">\n      我是拥有[\"admin\"]权限的按钮\n    </el-button>\n    <el-button v-permissions=\"['editor']\" type=\"primary\">\n      我是拥有[\"editor\"]权限的按钮\n    </el-button>\n    <el-button v-permissions=\"['test']\" type=\"primary\">\n      我是拥有[\"test\"]权限的按钮\n    </el-button>\n    <br />\n    <br />\n    <el-divider content-position=\"left\">\n      all模式,路由以及view文件引入全部交给后端(权限复杂,且随时变更,建议使用此方案)\n    </el-divider>\n    <p>\n      settings.js配置authentication为all即可完全交由后端控制,mock中有后端接口示例,权限繁琐,有几十种权限的项目直接用这种,\n      由于演示环境是mock数据模拟,可能无法展现此功能的配置,只做如下展示,便于您的理解\n    </p>\n    <br />\n    <el-row :gutter=\"20\">\n      <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\n        <el-table\n          :data=\"tableData\"\n          row-key=\"path\"\n          border\n          default-expand-all\n          :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n        >\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"name\"\n            label=\"name\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"path\"\n            label=\"path\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"component\"\n            label=\"component\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"redirect\"\n            label=\"redirect\"\n          ></el-table-column>\n          <el-table-column\n            show-overflow-tooltip\n            prop=\"meta.title\"\n            label=\"标题\"\n          ></el-table-column>\n          <el-table-column show-overflow-tooltip label=\"图标\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                <vab-icon\n                  v-if=\"row.meta.icon\"\n                  :icon=\"['fas', row.meta.icon]\"\n                ></vab-icon>\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否固定\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.affix }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"是否无缓存\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.noKeepAlive }}\n              </span>\n            </template>\n          </el-table-column>\n          <el-table-column show-overflow-tooltip label=\"badge\">\n            <template #default=\"{ row }\">\n              <span v-if=\"row.meta\">\n                {{ row.meta.badge }}\n              </span>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n  import { tokenTableName } from '@/config'\n  import { getRouterList } from '@/api/router'\n\n  export default {\n    name: 'Permissions',\n    data() {\n      return {\n        form: {\n          account: '',\n        },\n        tableData: [],\n        res: [],\n      }\n    },\n    computed: {\n      ...mapGetters({\n        username: 'user/username',\n        permissions: 'user/permissions',\n      }),\n    },\n    created() {\n      this.fetchData()\n    },\n    mounted() {\n      this.form.account = this.username\n    },\n    methods: {\n      handleChangePermission() {\n        localStorage.setItem(tokenTableName, `${this.form.account}-accessToken`)\n        location.reload()\n      },\n      async fetchData() {\n        const res = await getRouterList()\n        this.tableData = res.data\n        this.res = res\n      },\n    },\n  }\n</script>\n"]}]}